// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`SouthForm check SouthForm with dataSource: ADS - Test 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        ADS - Test
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-success btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-success btn-sm"
        type="button"
      >
        Points (24)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              checked=""
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Enabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Ads settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    ADS is a protocol used with TwinCAT to communicate with Beckhoff PLCs.
                    <br />
                    The ADS protocol communicates with an AMS router which then transmits messages to the PLC with the correct protocol.
                  </p>
                  <p>
                    When OIBus is installed on the same machine than the AMS router, only the Net Id and Port must be set.
                    <br />
                    The ADS protocol will look by default to localhost for AMS router and automatically set client ams net id and port.
                  </p>
                  <p>
                    When OIBus is installed in a distant machine (physical or virtual), the address of the AMS router and its port must be set. By default, AMS router port is 48898.
                  </p>
                  <p>
                    The client ams net id must be set beforehand. See the official
                     
                    <a
                      href="https://optimistik.fr/oibus/"
                      rel="noreferrer"
                      target="_blank"
                    >
                      OIBus
                    </a>
                     
                    documentation for more information.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.netId"
          >
            Net id
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.netId"
            name="south.dataSources.0.ADS.netId"
            type="text"
            value="10.211.55.3.1.1"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              The ADS net id of the PLC
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.port"
          >
            Port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.port"
            name="south.dataSources.0.ADS.port"
            type="integer"
            value="851"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Port number of the ADS source
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.routerAddress"
          >
            Router address
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.routerAddress"
            name="south.dataSources.0.ADS.routerAddress"
            type="text"
            value="10.211.55.3"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              The IP address where the AMS router is
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.routerTcpPort"
          >
            Router tcp port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.routerTcpPort"
            name="south.dataSources.0.ADS.routerTcpPort"
            type="integer"
            value="48898"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Port number of the AMS router
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.clientAmsNetId"
          >
            Client ams net id
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.clientAmsNetId"
            name="south.dataSources.0.ADS.clientAmsNetId"
            type="text"
            value="10.211.55.2.1.1"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              The AMS net id set to this client from the AMS router settings
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.clientAdsPort"
          >
            Client ads port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.clientAdsPort"
            name="south.dataSources.0.ADS.clientAdsPort"
            type="integer"
            value="32750"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Port number that will be set for this client (must be unused on the server side)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.retryInterval"
            name="south.dataSources.0.ADS.retryInterval"
            type="integer"
            value="10000"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Ads data settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <ul>
                    <li>
                      <b>
                        PLC name:
                      </b>
                      You can add a prefix to your points ID by mentioning your PLC name. To separate this name from your points ID, you can add a separator.
                       
                      <br />
                      For example, if you have a point ID TEST.MY_INTEGER and that I want to add something in front of it to better identify the data, you can add MY_PLC. in front of your point (dot included). That will give you MY_PLC.TEST.MY_INTEGER
                      <br />
                      Note that the PLC name is not used to request the point on the PLC, but is added to the pointId that will be send to your north connector.
                    </li>
                    <li>
                      <b>
                        Enumeration value:
                      </b>
                      In case of enumeration data, tell OIBus how to take into account the type of the value: text or integer. Here is an Enumeration example :
                      <ul>
                        <li>
                          Disabled: 0
                        </li>
                        <li>
                          Starting: 50
                        </li>
                        <li>
                          Running: 100
                        </li>
                        <li>
                          Stopping: 200
                        </li>
                      </ul>
                      The Text option will take the following values : Disabled, Starting, Running or Stopping. The Integer option will take the following values : 0, 50, 100 or 200.
                    </li>
                    <li>
                      <b>
                        Boolean value:
                      </b>
                      In case of boolean data, tell OIBus how to take into account the type of the value: text or integer.
                      <ul>
                        <li>
                          false or 0
                        </li>
                        <li>
                          true or 1
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.plcName"
          >
            Plc name
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.plcName"
            name="south.dataSources.0.ADS.plcName"
            type="text"
            value="PLC_TEST."
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              The name of the PLC that will be added to the points ID as prefix.
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.enumAsText"
          >
            Enumeration value
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.enumAsText"
            name="south.dataSources.0.ADS.enumAsText"
          >
            <option
              value="Text"
            >
              Text
            </option>
            <option
              value="Integer"
            >
              Integer
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.ADS.boolAsText"
          >
            Boolean value
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.ADS.boolAsText"
            name="south.dataSources.0.ADS.boolAsText"
          >
            <option
              value="Text"
            >
              Text
            </option>
            <option
              value="Integer"
            >
              Integer
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Ads structures
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  Only specified structures will be taken into account. To take all fields of a structure, you can use the wildcard *. To take some of the fields only, specify them (case sensitive), separated by commas. For example, E_ANA is the name of the structure, and the fields to take are : Mesure,a,b
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <table
          class="table table-sm table-striped table-hover"
        >
          <thead>
            <tr>
              <th
                scope="col"
              >
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 512 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"
                  />
                </svg>
                <span>
                  Name
                </span>
              </th>
              <th
                scope="col"
              >
                Fields
              </th>
              <th
                scope="col"
              />
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div
                  class="form-group"
                  style="margin-bottom: 0px;"
                >
                  <input
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.ADS.structureFiltering.0.name"
                    name="south.dataSources.0.ADS.structureFiltering.0.name"
                    type="text"
                    value="ST_Example"
                  />
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td>
                <div
                  class="form-group"
                  style="margin-bottom: 0px;"
                >
                  <input
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.ADS.structureFiltering.0.fields"
                    name="south.dataSources.0.ADS.structureFiltering.0.fields"
                    type="text"
                    value="SomeReal,SomeDate"
                  />
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td>
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 448 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                  />
                </svg>
              </td>
            </tr>
            <tr>
              <td>
                <div
                  class="form-group"
                  style="margin-bottom: 0px;"
                >
                  <input
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.ADS.structureFiltering.1.name"
                    name="south.dataSources.0.ADS.structureFiltering.1.name"
                    type="text"
                    value="Tc2_Standard.TON"
                  />
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td>
                <div
                  class="form-group"
                  style="margin-bottom: 0px;"
                >
                  <input
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.ADS.structureFiltering.1.fields"
                    name="south.dataSources.0.ADS.structureFiltering.1.fields"
                    type="text"
                    value="*"
                  />
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td>
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 448 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                  />
                </svg>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: FolderScanner 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        FolderScanner
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-success btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-secondary btn-sm disabled"
        disabled=""
      >
        File
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              checked=""
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Enabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.scanMode"
            name="south.dataSources.0.scanMode"
          >
            <option
              value="everySecond"
            >
              everySecond
            </option>
            <option
              value="every10Second"
            >
              every10Second
            </option>
            <option
              value="every1Min"
            >
              every1Min
            </option>
            <option
              value="listen"
            >
              listen
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            FolderScanner settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  The FolderScanner South periodically checks the input folder for new files at an interval specified by scan mode. When a new file is detected it will be sent to any North capable of handling files and configured to accept files from this South.
                </p>
                <p>
                  Please use always the / separator. OIBus will convert it according to the platform. For example, on Windows, c:/input/ will be converted to c:\\input\\ Make sure OIBus has READ and WRITE access to this folder.
                  <b>
                    When OIBus is started as a Windows service, you may have to assign a user logon in the Windows services.msc console.
                  </b>
                </p>
                <p>
                  It is possible to specify how to handle files.
                </p>
                <ul>
                  <li>
                    If Preserve File is checked the files will be left intact, otherwise they will be removed from the input folder.
                  </li>
                  <li>
                    If Ignore Modified Date is checked the last edited time of the file will be ignored when the file is preserved. This implies that a file will be sent at each scan of the folder
                  </li>
                  <li>
                    The Minimum Age option is used to specify the time since the file was last modified. It is used to prevent handling files that are still populated.
                  </li>
                  <li>
                    The RegExp option can be used to filter what kind of files to be handled.
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.FolderScanner.inputFolder"
          >
            Input folder
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.FolderScanner.inputFolder"
            name="south.dataSources.0.FolderScanner.inputFolder"
            type="text"
            value="./input/"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Path to folder such as: c:/input/
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-check"
        >
          <label
            class="form-check-label"
          >
            Preserve File?
            <input
              checked=""
              class="oi-form-input checkbox form-check-input"
              id="south.dataSources.0.FolderScanner.preserveFiles"
              name="south.dataSources.0.FolderScanner.preserveFiles"
              type="checkbox"
            />
          </label>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-check"
        >
          <label
            class="form-check-label"
          >
            Ignore modified date
            <input
              class="oi-form-input checkbox form-check-input"
              id="south.dataSources.0.FolderScanner.ignoreModifiedDate"
              name="south.dataSources.0.FolderScanner.ignoreModifiedDate"
              type="checkbox"
            />
          </label>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.FolderScanner.minAge"
          >
            Minimum Age
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.FolderScanner.minAge"
            name="south.dataSources.0.FolderScanner.minAge"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.FolderScanner.regex"
          >
            RegExp
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.FolderScanner.regex"
            name="south.dataSources.0.FolderScanner.regex"
            type="text"
            value=".csv"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              RegExp to filter the folder
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-check"
        >
          <label
            class="form-check-label"
          >
            Compress File?
            <input
              class="oi-form-input checkbox form-check-input"
              id="south.dataSources.0.FolderScanner.compression"
              name="south.dataSources.0.FolderScanner.compression"
              type="checkbox"
            />
          </label>
        </div>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: MQTTServer 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        MQTTServer
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (2)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Mqtt settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    This protocol is in restricted release. Please contact Optimistik
                  </p>
                  <ul>
                    <li>
                      <b>
                        Url:
                      </b>
                      MQTT host to connect. Make sure you specify the right protocol, host and port number. The MQTT client may not get connected if you mention wrong port number or interchange port numbers.
                    </li>
                    <li>
                      <b>
                        QoS:
                      </b>
                      The Quality of Service (QoS) level is an agreement between the sender of a message and the receiver of a message that defines the guarantee of delivery for a specific message. There are 3 QoS levels in MQTT:
                      <ul>
                        <li>
                          At most once (0)
                        </li>
                        <li>
                          At least once (1)
                        </li>
                        <li>
                          Exactly once (2)
                        </li>
                      </ul>
                    </li>
                    <li>
                      <b>
                        Persistent:
                      </b>
                      In this mode the broker will store subscription information, and undelivered messages for the client. With a non persistent connection the broker does not store any subscription information or undelivered messages for the client. For this option to take effect QoS must be set to 1 or 2.
                    </li>
                    <li>
                      <b>
                        Client ID:
                      </b>
                      In order for the broker to store session information for a client a client id must be used.
                    </li>
                    <li>
                      <b>
                        Username:
                      </b>
                      Username required by the broker, if any.
                    </li>
                    <li>
                      <b>
                        Password:
                      </b>
                      Password required by the broker, if any.
                    </li>
                    <li>
                      <b>
                        Cert File:
                      </b>
                      Server certificate used for MQTTS protocol in PEM format.
                    </li>
                    <li>
                      <b>
                        Key File:
                      </b>
                      MQTT client private key in PEM format.
                    </li>
                    <li>
                      <b>
                        CA File:
                      </b>
                      Certificate Authority file in PEM format. If empty we consider the Cert File as self-signed certificate.
                    </li>
                    <li>
                      <b>
                        Reject Unauthorized:
                      </b>
                      In some cases the certificate (CertFile) can not be verified. (ex: certificate is self-signed or Certification Authority can not be contacted). If Reject Unauthorized is set to false, the connection will still be encrypted but may be vulnerable to man in the middle attacks.
                    </li>
                    <li>
                      <b>
                        Keepalive:
                      </b>
                      Set to 0 to disable.
                    </li>
                    <li>
                      <b>
                        Reconnect period:
                      </b>
                      Interval between two reconnections. Disable auto reconnect by setting to 0.
                    </li>
                    <li>
                      <b>
                        Connect timout:
                      </b>
                      Time to wait before a CONNACK is received.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.url"
          >
            Url
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.url"
            name="south.dataSources.0.MQTT.url"
            type="text"
            value="mqtt://hostname:1883"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              The URL of the MQTT server. The protocol should be one of mqtt, mqtts, tcp, tls, ws, wss
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-1"
      />
      <div
        class="col-md-1"
      />
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.clientId"
          >
            Client id
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.clientId"
            name="south.dataSources.0.MQTT.clientId"
            type="text"
            value="myClientId"
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.username"
          >
            Username
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.username"
            name="south.dataSources.0.MQTT.username"
            type="text"
            value="bai"
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.password"
          >
            Password
          </label>
          <div
            class="input-group"
          >
            <input
              aria-invalid="false"
              class="oi-form-input form-control"
              id="south.dataSources.0.MQTT.password"
              name="south.dataSources.0.MQTT.password"
              type="password"
              value="pppppppppppppppppppppp"
            />
          </div>
          <div
            class="invalid-feedback"
            style="display: inline;"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.certFile"
          >
            Cert File
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.certFile"
            name="south.dataSources.0.MQTT.certFile"
            type="text"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Server certificate (used for MQTTS protocol)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.keyFile"
          >
            Key File
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.keyFile"
            name="south.dataSources.0.MQTT.keyFile"
            type="text"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              MQTT client private key
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.caFile"
          >
            CA File
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.caFile"
            name="south.dataSources.0.MQTT.caFile"
            type="text"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Certificate Authority file (if empty we consider the Cert File as a self-signed certificate)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-check"
        >
          <label
            class="form-check-label"
          >
            Reject Unauthorized Connection
            <input
              class="oi-form-input checkbox form-check-input"
              id="south.dataSources.0.MQTT.rejectUnauthorized"
              name="south.dataSources.0.MQTT.rejectUnauthorized"
              type="checkbox"
            />
          </label>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.keepalive"
          >
            Keep Alive Interval
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.keepalive"
            name="south.dataSources.0.MQTT.keepalive"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.reconnectPeriod"
          >
            Reconnect period (ms)
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.reconnectPeriod"
            name="south.dataSources.0.MQTT.reconnectPeriod"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.connectTimeout"
          >
            Connect Timeout (ms)
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.connectTimeout"
            name="south.dataSources.0.MQTT.connectTimeout"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Mqtt payload
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <ul>
                    <li>
                      <b>
                        Data array path:
                      </b>
                      Optional. If empty, the payload is a simple JSON object. If specified, the JSON contains a JSON object array at the specified path.
                    </li>
                    <li>
                      <b>
                        Value path:
                      </b>
                      Mandatory. This string is the JSON key path where to find the value (in the array element if data array path is specified, or directly in the JSON object if not).
                    </li>
                    <li>
                      <b>
                        Node id path:
                      </b>
                      Optional. If empty, the nodeId is inferred from the topic. If not empty, this string indicates where to find the nodeId value (in the array element if data array path is specified, or directly in the JSON object if not).
                    </li>
                    <li>
                      <b>
                        Quality path:
                      </b>
                      Mandatory. This string is the JSON key path where to find the quality (in the array element if data array path is specified, or directly in the JSON object if not).
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Timestamp settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    These parameters describe how to determine the timeStamp
                  </p>
                  <ul>
                    <li>
                      <b>
                        Time Origin:
                      </b>
                      If the value is "oibus" the timestamp will be the timestamp for the reception of the value by oibus. If the value is "payload" the timestamp will be retrieved from the MQTT payload using the key specified below.
                    </li>
                    <li>
                      <b>
                        TimeStamp Path:
                      </b>
                      The string indicates which key in the payload contains the timestamp value. If the payload is an array of data, it indicates the key that contains the timestamp value in the elements of this array
                    </li>
                    <li>
                      <b>
                        TimeStamp Format:
                      </b>
                      The string indicates which format to use to parse the timestamp. For example, the timestamp '2020-09-16 07:00:00.000' is in the format YYYY-MM-DD HH:mm:ss.SSS. Another example : if the timestamp is '2020-09-16T07:00:00Z' so the format would be YYYY-MM-DDTHH:mm:ssZ.
                    </li>
                    <li>
                      <b>
                        TimeStamp timezone:
                      </b>
                      This field indicates in which timezone the timestamp received is. OIBus then converts it into an UTC timestamp.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.timestampOrigin"
          >
            Timestamp origin
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.timestampOrigin"
            name="south.dataSources.0.MQTT.timestampOrigin"
          >
            <option
              value="payload"
            >
              payload
            </option>
            <option
              value="oibus"
            >
              oibus
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.timestampFormat"
          >
            Timestamp format
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.timestampFormat"
            name="south.dataSources.0.MQTT.timestampFormat"
            type="text"
            value="YYYY-MM-DD HH:mm:ss.SSS"
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.timestampTimezone"
          >
            Timestamp timezone
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.timestampTimezone"
            name="south.dataSources.0.MQTT.timestampTimezone"
          >
            <option
              value="Etc/UTC"
            >
              Etc/UTC
            </option>
            <option
              value="Etc/GMT+12"
            >
              Etc/GMT+12
            </option>
            <option
              value="Pacific/Midway"
            >
              Pacific/Midway
            </option>
            <option
              value="Pacific/Honolulu"
            >
              Pacific/Honolulu
            </option>
            <option
              value="Pacific/Marquesas"
            >
              Pacific/Marquesas
            </option>
            <option
              value="America/Anchorage"
            >
              America/Anchorage
            </option>
            <option
              value="Pacific/Pitcairn"
            >
              Pacific/Pitcairn
            </option>
            <option
              value="America/Los_Angeles"
            >
              America/Los_Angeles
            </option>
            <option
              value="America/Tijuana"
            >
              America/Tijuana
            </option>
            <option
              value="America/Chihuahua"
            >
              America/Chihuahua
            </option>
            <option
              value="America/Denver"
            >
              America/Denver
            </option>
            <option
              value="America/Phoenix"
            >
              America/Phoenix
            </option>
            <option
              value="America/Chicago"
            >
              America/Chicago
            </option>
            <option
              value="America/Guatemala"
            >
              America/Guatemala
            </option>
            <option
              value="America/Mexico_City"
            >
              America/Mexico_City
            </option>
            <option
              value="America/Regina"
            >
              America/Regina
            </option>
            <option
              value="America/Bogota"
            >
              America/Bogota
            </option>
            <option
              value="America/Indiana/Indianapolis"
            >
              America/Indiana/Indianapolis
            </option>
            <option
              value="America/New_York"
            >
              America/New_York
            </option>
            <option
              value="America/Caracas"
            >
              America/Caracas
            </option>
            <option
              value="America/Guyana"
            >
              America/Guyana
            </option>
            <option
              value="America/Halifax"
            >
              America/Halifax
            </option>
            <option
              value="America/La_Paz"
            >
              America/La_Paz
            </option>
            <option
              value="America/Manaus"
            >
              America/Manaus
            </option>
            <option
              value="America/Santiago"
            >
              America/Santiago
            </option>
            <option
              value="America/St_Johns"
            >
              America/St_Johns
            </option>
            <option
              value="America/Argentina/Buenos_Aires"
            >
              America/Argentina/Buenos_Aires
            </option>
            <option
              value="America/Godthab"
            >
              America/Godthab
            </option>
            <option
              value="America/Montevideo"
            >
              America/Montevideo
            </option>
            <option
              value="America/Sao_Paulo"
            >
              America/Sao_Paulo
            </option>
            <option
              value="Atlantic/South_Georgia"
            >
              Atlantic/South_Georgia
            </option>
            <option
              value="Atlantic/Azores"
            >
              Atlantic/Azores
            </option>
            <option
              value="Atlantic/Cape_Verde"
            >
              Atlantic/Cape_Verde
            </option>
            <option
              value="Africa/Casablanca"
            >
              Africa/Casablanca
            </option>
            <option
              value="Africa/Monrovia"
            >
              Africa/Monrovia
            </option>
            <option
              value="Europe/London"
            >
              Europe/London
            </option>
            <option
              value="Africa/Algiers"
            >
              Africa/Algiers
            </option>
            <option
              value="Africa/Windhoek"
            >
              Africa/Windhoek
            </option>
            <option
              value="Europe/Belgrade"
            >
              Europe/Belgrade
            </option>
            <option
              value="Europe/Berlin"
            >
              Europe/Berlin
            </option>
            <option
              value="Europe/Brussels"
            >
              Europe/Brussels
            </option>
            <option
              value="Europe/Warsaw"
            >
              Europe/Warsaw
            </option>
            <option
              value="Africa/Cairo"
            >
              Africa/Cairo
            </option>
            <option
              value="Africa/Harare"
            >
              Africa/Harare
            </option>
            <option
              value="Asia/Amman"
            >
              Asia/Amman
            </option>
            <option
              value="Asia/Beirut"
            >
              Asia/Beirut
            </option>
            <option
              value="Asia/Jerusalem"
            >
              Asia/Jerusalem
            </option>
            <option
              value="Europe/Athens"
            >
              Europe/Athens
            </option>
            <option
              value="Europe/Helsinki"
            >
              Europe/Helsinki
            </option>
            <option
              value="Europe/Minsk"
            >
              Europe/Minsk
            </option>
            <option
              value="Europe/Paris"
            >
              Europe/Paris
            </option>
            <option
              value="Africa/Nairobi"
            >
              Africa/Nairobi
            </option>
            <option
              value="Asia/Baghdad"
            >
              Asia/Baghdad
            </option>
            <option
              value="Asia/Kuwait"
            >
              Asia/Kuwait
            </option>
            <option
              value="Europe/Moscow"
            >
              Europe/Moscow
            </option>
            <option
              value="Asia/Tehran"
            >
              Asia/Tehran
            </option>
            <option
              value="Asia/Baku"
            >
              Asia/Baku
            </option>
            <option
              value="Asia/Muscat"
            >
              Asia/Muscat
            </option>
            <option
              value="Asia/Tbilisi"
            >
              Asia/Tbilisi
            </option>
            <option
              value="Asia/Yerevan"
            >
              Asia/Yerevan
            </option>
            <option
              value="Asia/Kabul"
            >
              Asia/Kabul
            </option>
            <option
              value="Asia/Karachi"
            >
              Asia/Karachi
            </option>
            <option
              value="Asia/Tashkent"
            >
              Asia/Tashkent
            </option>
            <option
              value="Asia/Yekaterinburg"
            >
              Asia/Yekaterinburg
            </option>
            <option
              value="Asia/Colombo"
            >
              Asia/Colombo
            </option>
            <option
              value="Asia/Kolkata"
            >
              Asia/Kolkata
            </option>
            <option
              value="Asia/Kathmandu"
            >
              Asia/Kathmandu
            </option>
            <option
              value="Asia/Dhaka"
            >
              Asia/Dhaka
            </option>
            <option
              value="Asia/Novosibirsk"
            >
              Asia/Novosibirsk
            </option>
            <option
              value="Asia/Rangoon"
            >
              Asia/Rangoon
            </option>
            <option
              value="Asia/Bangkok"
            >
              Asia/Bangkok
            </option>
            <option
              value="Asia/Krasnoyarsk"
            >
              Asia/Krasnoyarsk
            </option>
            <option
              value="Asia/Hong_Kong"
            >
              Asia/Hong_Kong
            </option>
            <option
              value="Asia/Irkutsk"
            >
              Asia/Irkutsk
            </option>
            <option
              value="Asia/Kuala_Lumpur"
            >
              Asia/Kuala_Lumpur
            </option>
            <option
              value="Asia/Taipei"
            >
              Asia/Taipei
            </option>
            <option
              value="Australia/Perth"
            >
              Australia/Perth
            </option>
            <option
              value="Asia/Seoul"
            >
              Asia/Seoul
            </option>
            <option
              value="Asia/Tokyo"
            >
              Asia/Tokyo
            </option>
            <option
              value="Asia/Yakutsk"
            >
              Asia/Yakutsk
            </option>
            <option
              value="Australia/Adelaide"
            >
              Australia/Adelaide
            </option>
            <option
              value="Australia/Darwin"
            >
              Australia/Darwin
            </option>
            <option
              value="Asia/Vladivostok"
            >
              Asia/Vladivostok
            </option>
            <option
              value="Australia/Brisbane"
            >
              Australia/Brisbane
            </option>
            <option
              value="Australia/Hobart"
            >
              Australia/Hobart
            </option>
            <option
              value="Australia/Sydney"
            >
              Australia/Sydney
            </option>
            <option
              value="Pacific/Guam"
            >
              Pacific/Guam
            </option>
            <option
              value="Australia/Lord_Howe"
            >
              Australia/Lord_Howe
            </option>
            <option
              value="Asia/Magadan"
            >
              Asia/Magadan
            </option>
            <option
              value="Pacific/Norfolk"
            >
              Pacific/Norfolk
            </option>
            <option
              value="Pacific/Auckland"
            >
              Pacific/Auckland
            </option>
            <option
              value="Pacific/Fiji"
            >
              Pacific/Fiji
            </option>
            <option
              value="Pacific/Tongatapu"
            >
              Pacific/Tongatapu
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Time Zone
            </div>
          </small>
        </div>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: OPC-HDA 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        OPC-HDA
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (3)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            HDA Agent
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  OPCHDA Agent is an external executable that will handle the protocol HDA. We decided to externalize it to avoid combining relatively old librairies in the main OIBus code and also because OPCHDA is only supported on Microsoft Windows.
                </p>
                <ul>
                  <li>
                    The agent communicate with OIBus using a TCP port that can be configured in this section.
                  </li>
                  <li>
                    It is possible to decide the level of logs that will be sent by the agent to OIBus. It is recommended to start with 'debug' and to switch to 'info' when the communication is stabilized.
                  </li>
                  <li>
                    By default, when you restart the agent, it will query from the last succesful timestamp (for each scan group) so we dont loose values during the time the HDA was not active. if the cache is deleted (or on the first startup), the default start time will be the current time except if a key 'startTime' (only accessible by editing manually the oibus configuration time) indicates a different start time. This feature has been added to be allow recovering of values from the past when needed.
                  </li>
                  <p>
                    <b>
                      DA Quality code
                    </b>
                  </p>
                  <table
                    border="1"
                  >
                    <tbody>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Non-Specific]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000004
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Configuration Error]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000008
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Not Connected]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x0000000c
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Device Failure]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000010
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Sensor Failure]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000014
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Last Known Value]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000018
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Communication Failure]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x0000001C
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Out of Service]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000040
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000041
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000042
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000043
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific] (Constant)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000044
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Last Usable]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000045
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Last Usable] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000046
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Last Usable] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000047
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Last Usable] (Constant)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000050
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sensor Not Accurate]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000051
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sensor Not Accurate] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000052
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sensor Not Accurate] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000053
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sensor Not Accurate] (Constant)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000054
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [EU Exceeded]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000055
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [EU Exceeded] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000056
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [EU Exceeded] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000057
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [EU Exceeded] (Constant)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000058
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sub-Normal]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00000059
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sub-Normal] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x0000005a
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sub-Normal] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x0000005b
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Sub-Normal] (Constant)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000c0
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Non-Specific]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000c1
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Non-Specific] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000c2
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Non-Specific] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000c3
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Non-Specific] (Constant)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000d8
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Local Override]
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000d9
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Local Override] (Low Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000da
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Local Override] (High Limited)
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x000000db
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Good [Local Override] (Constant)
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <p>
                    <b>
                      HDA Quality code
                    </b>
                  </p>
                  <table
                    border="1"
                  >
                    <tbody>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Non-Specific] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010004
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Configuration Error] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010008
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Not Connected] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x0001000c
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Device Failure] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010010
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Sensor Failure] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010014
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Last Known Value] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010018
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Communication Failure] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x0001001c
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Bad [Out of Service] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010040
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific] : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010041
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific] (Low Limited) : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00010042
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Uncertain [Non-Specific] (High Limited) : Extra Data
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00040000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Indicates the quality of raw data transmission.
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00080000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          Indicates the quality of calculated data transmission.
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00100000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          No bounding values were found at the starting or ending point.
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00200000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          No raw data were found for the specified time interval.
                        </td>
                      </tr>
                      <tr>
                        <td
                          vertical-align="middle"
                        >
                          0x00400000
                        </td>
                        <td
                          vertical-align="middle"
                        >
                          The raw data in the selected interval were not completely archived.
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.agentFilename"
          >
            Agent filename
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.agentFilename"
            name="south.dataSources.0.OPCHDA.agentFilename"
            type="text"
            value="./deps/win/HdaAgent/HdaAgent.exe"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              ex: c:\\HdaAgent\\HdaAgent.exe
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.tcpPort"
          >
            TCP Port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.tcpPort"
            name="south.dataSources.0.OPCHDA.tcpPort"
            type="integer"
            value="3333"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              HDA Agent port
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.logLevel"
          >
            Logging Level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.logLevel"
            name="south.dataSources.0.OPCHDA.logLevel"
          >
            <option
              value="silly"
            >
              silly
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Logging Level
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            HDA Server
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  OPCHDA Server is hosted on the equipment or server on which we want to retrieve values. You need to give the host name as well as the HDA server name.
                </p>
                <ul>
                  <li>
                    The retry interval will be used when the HDA server cant be connected to the HDA Agent to indicate when the next retry will occur.
                  </li>
                  <li>
                    Max return values is an OPC HDA parameters allowing to indicate the maximum number of values that can be returned in a single read request. Most HDA implementations allows to specify 0 so the maximum is defined by the HDA server. Some memory conditions may cause the HDA server to send errors that can be solved by minimizing this parameters. A low value requires the server to split a single reply in multiple chunks creating more network traffic.
                  </li>
                  <li>
                    Max read interval is used when a query request a very long range (one month for example). The range will be divided in smaller request (one hour by default) to avoid the memory issues on the HDA server. This parameter is typically used when OIBus was stopped for a long time and that we need to recover values from that range on the restart.
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.host"
          >
            Host
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.host"
            name="south.dataSources.0.OPCHDA.host"
            type="text"
            value="opcserver"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              IP address or hostname of the HDA server
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.serverName"
          >
            Server name
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.serverName"
            name="south.dataSources.0.OPCHDA.serverName"
            type="text"
            value="Matrikon.OPC.Simulation"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              HDA server (Matrikon.OPC.Simulation)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.retryInterval"
            name="south.dataSources.0.OPCHDA.retryInterval"
            type="integer"
            value="10000"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.maxReturnValues"
          >
            Max return values
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.maxReturnValues"
            name="south.dataSources.0.OPCHDA.maxReturnValues"
            type="integer"
            value="10000"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Max return values
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCHDA.maxReadInterval"
          >
            Max read interval
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCHDA.maxReadInterval"
            name="south.dataSources.0.OPCHDA.maxReadInterval"
            type="integer"
            value="3600"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Max read interval (s)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            ScanGroups
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  OPCHDA application will request all points in the same scanMode. OPCHDA can query raw values but can also aggregate points on a given period. If an aggregate is chosen, the resampling period must also be selected. Important: a point with a scanMode without the corresponding scangroup will not be requested.
                  <br />
                  <b>
                    In the current version, aggregates are NOT supported for production mode. Please use "Raw"
                  </b>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      >
        <table
          class="table table-sm table-striped table-hover"
        >
          <thead>
            <tr>
              <th
                scope="col"
              >
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 512 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"
                  />
                </svg>
                <span>
                  Scan Mode
                </span>
              </th>
              <th
                scope="col"
              >
                Aggregate
              </th>
              <th
                scope="col"
              >
                resampling
              </th>
              <th
                scope="col"
              />
            </tr>
          </thead>
          <tbody />
        </table>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: PLC-35 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        PLC-35
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (5)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Modbus settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    The Modbus address scheme follows the Modicon Convention Notation.
                  </p>
                  <ul>
                    <li>
                      Coil = [0x00001 - 0x09999 (=39321)]
                    </li>
                    <li>
                      Discrete Input = [0x10001 (=65537) - 0x19999 (=104857)]
                    </li>
                    <li>
                      Input Register = [0x30001 (=196609) - 0x39999 (=235929)]
                    </li>
                    <li>
                      Holding Register = [0x40001 (=262145) - 0x49999 (=301465)]
                    </li>
                  </ul>
                  <p>
                    An extended version of the Modicon Convention Notation allow the user to specify bigger address spaces :
                  </p>
                  <ul>
                    <li>
                      Coil = [0x000001 - 0x065535]
                    </li>
                    <li>
                      Discrete Input = [0x100001 - 0x165535]
                    </li>
                    <li>
                      Input Register = [0x300001 - 0x365535]
                    </li>
                    <li>
                      Holding Register = [0x400001 - 0x465535]
                    </li>
                  </ul>
                  <p>
                    When adding a new point, please be sure that your point address (which you can enter in decimal or hexadecimal) includes the Modicon Convention Notation. For example:
                  </p>
                  <ul>
                    <li>
                      Holding Register 16001 (0x3E81), enter 403E81 for an extended Modicon Notation or enter 43E81 for a standard Modicon Notation.
                    </li>
                    <li>
                      Coil 156 (0x9C), enter 0x00009C for an extended Modicon Notation or enter 0x9C or 0x0009C for a standard Modicon Notation
                    </li>
                  </ul>
                  <p>
                    The following settings apply to every points:
                  </p>
                  <ul>
                    <li>
                      addressOffset : Address offset to be applied for all points during requests (0 for the traditional Modbus protocol and 1 when using JBus)
                    </li>
                    <li>
                      endianness : Endianness of the data to read
                    </li>
                    <li>
                      Bytes swap : should reverse 16 bits data by group of 8 bits
                    </li>
                    <li>
                      Words swap : should reverse 32 bits data by group of 16 bits
                    </li>
                    <li>
                      multiplierCoefficient : Useful in case the value is stored as an integer while it is a decimal value, or to reverse the sign of the value
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.host"
          >
            Host
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.Modbus.host"
            name="south.dataSources.0.Modbus.host"
            type="text"
            value="http://hostname"
          />
          <div
            class="invalid-feedback"
          >
            Value should be a valid hostname or ip
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              IP address of the Modbus source
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.port"
          >
            Port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.Modbus.port"
            name="south.dataSources.0.Modbus.port"
            type="integer"
            value="502"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Port number of the Modbus source
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.slaveId"
          >
            Slave id
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.Modbus.slaveId"
            name="south.dataSources.0.Modbus.slaveId"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value should be between 1 and 255
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Slave ID of the Modbus source
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.Modbus.retryInterval"
            name="south.dataSources.0.Modbus.retryInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 1000
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      />
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-1"
      />
      <div
        class="col-md-1"
      />
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: PLC-42 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        PLC-42
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (2)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Modbus settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    The Modbus address scheme follows the Modicon Convention Notation.
                  </p>
                  <ul>
                    <li>
                      Coil = [0x00001 - 0x09999 (=39321)]
                    </li>
                    <li>
                      Discrete Input = [0x10001 (=65537) - 0x19999 (=104857)]
                    </li>
                    <li>
                      Input Register = [0x30001 (=196609) - 0x39999 (=235929)]
                    </li>
                    <li>
                      Holding Register = [0x40001 (=262145) - 0x49999 (=301465)]
                    </li>
                  </ul>
                  <p>
                    An extended version of the Modicon Convention Notation allow the user to specify bigger address spaces :
                  </p>
                  <ul>
                    <li>
                      Coil = [0x000001 - 0x065535]
                    </li>
                    <li>
                      Discrete Input = [0x100001 - 0x165535]
                    </li>
                    <li>
                      Input Register = [0x300001 - 0x365535]
                    </li>
                    <li>
                      Holding Register = [0x400001 - 0x465535]
                    </li>
                  </ul>
                  <p>
                    When adding a new point, please be sure that your point address (which you can enter in decimal or hexadecimal) includes the Modicon Convention Notation. For example:
                  </p>
                  <ul>
                    <li>
                      Holding Register 16001 (0x3E81), enter 403E81 for an extended Modicon Notation or enter 43E81 for a standard Modicon Notation.
                    </li>
                    <li>
                      Coil 156 (0x9C), enter 0x00009C for an extended Modicon Notation or enter 0x9C or 0x0009C for a standard Modicon Notation
                    </li>
                  </ul>
                  <p>
                    The following settings apply to every points:
                  </p>
                  <ul>
                    <li>
                      addressOffset : Address offset to be applied for all points during requests (0 for the traditional Modbus protocol and 1 when using JBus)
                    </li>
                    <li>
                      endianness : Endianness of the data to read
                    </li>
                    <li>
                      Bytes swap : should reverse 16 bits data by group of 8 bits
                    </li>
                    <li>
                      Words swap : should reverse 32 bits data by group of 16 bits
                    </li>
                    <li>
                      multiplierCoefficient : Useful in case the value is stored as an integer while it is a decimal value, or to reverse the sign of the value
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.host"
          >
            Host
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.Modbus.host"
            name="south.dataSources.0.Modbus.host"
            type="text"
            value="http://hostname"
          />
          <div
            class="invalid-feedback"
          >
            Value should be a valid hostname or ip
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              IP address of the Modbus source
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.port"
          >
            Port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.Modbus.port"
            name="south.dataSources.0.Modbus.port"
            type="integer"
            value="502"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Port number of the Modbus source
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.slaveId"
          >
            Slave id
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.Modbus.slaveId"
            name="south.dataSources.0.Modbus.slaveId"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value should be between 1 and 255
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Slave ID of the Modbus source
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.Modbus.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.Modbus.retryInterval"
            name="south.dataSources.0.Modbus.retryInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 1000
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      />
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-1"
      />
      <div
        class="col-md-1"
      />
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: SQLDbToFile 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        SQLDbToFile
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-secondary btn-sm disabled"
        disabled=""
      >
        File
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.scanMode"
            name="south.dataSources.0.scanMode"
          >
            <option
              value="everySecond"
            >
              everySecond
            </option>
            <option
              value="every10Second"
            >
              every10Second
            </option>
            <option
              value="every1Min"
            >
              every1Min
            </option>
            <option
              value="listen"
            >
              listen
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            SQLDBtoFile Settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  SQLDbToFile periodically connects to the specified SQL server at an interval specified by scan mode. It gets values from the database based on the 'query' parameter, saves the result in a CSV file and sends to any North capable of handling files and configured to accept files from this South.
                </p>
                <ul>
                  <li>
                    The query may have a specific format and contain a WHERE clause with the date constraint of the time column using @LastCompletedDate.
                  </li>
                  <li>
                    To prevent blocking if the SQL server is not available or the query is faulty it is possible to configure separate connection timeout and request timeout.
                    <br />
                    Note for Oracle: Connection timeout can be specified in the 'sqlnet.ora' file (E.g. in /opt/oracle/instantclient_19_5/network/admin/sqlnet.ora) like this: 'SQLNET.OUTBOUND_CONNECT_TIMEOUT=500 ms'
                  </li>
                  <li>
                    It is possible to specify the delimiter used in the CSV file, how to format the timestamp field and also the name of the file with a template (currently only '@date' is accepted).
                  </li>
                  <li>
                    Since we have no information about the SQL server it is possible to specify the time column and the timezone for it.
                  </li>
                  <li>
                    All date fields are read as UTC time and converted to the specified timezone. Ex: With timezone 'Europe/Paris' the date '2019-01-01 00:00:00' will be converted to 'Tue Jan 01 2019 00:00:00 GMT+0100'
                  </li>
                </ul>
                <p>
                  Note for Oracle: Oracle Client libraries must be installed and configured separated.
                  <a
                    href="https://oracle.github.io/node-oracledb/INSTALL.html"
                    rel="noopener noreferrer"
                    target="_blank"
                  >
                     More info
                  </a>
                </p>
                <p>
                  Note for all SQL connections with username: To avoid accidental data deletion/alteration the SQL user should have only readonly access to the database.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.driver"
          >
            SQL Driver
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.driver"
            name="south.dataSources.0.SQLDbToFile.driver"
          >
            <option
              value="mssql"
            >
              mssql
            </option>
            <option
              value="mysql"
            >
              mysql
            </option>
            <option
              value="postgresql"
            >
              postgresql
            </option>
            <option
              value="oracle"
            >
              oracle
            </option>
            <option
              value="sqlite"
            >
              sqlite
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Driver SQL
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.host"
          >
            Host
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.host"
            name="south.dataSources.0.SQLDbToFile.host"
            type="text"
            value="192.168.0.11"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              IP address of the SQLDbToFile server
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.port"
          >
            Port
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.port"
            name="south.dataSources.0.SQLDbToFile.port"
            type="integer"
            value="1433"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Port number of the SQLDbToFile server
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-3"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.database"
          >
            Database
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.database"
            name="south.dataSources.0.SQLDbToFile.database"
            type="text"
            value="oibus"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Name of the SQL database (SID or Service Name for Oracle)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-3"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.username"
          >
            Username
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.username"
            name="south.dataSources.0.SQLDbToFile.username"
            type="text"
            value="oibus_user"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              (Preferably with only readonly access to the database)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-3"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.password"
          >
            Password
          </label>
          <div
            class="input-group"
          >
            <input
              aria-invalid="false"
              class="oi-form-input form-control"
              id="south.dataSources.0.SQLDbToFile.password"
              name="south.dataSources.0.SQLDbToFile.password"
              type="password"
              value="popopopopopopopopo"
            />
          </div>
          <div
            class="invalid-feedback"
            style="display: inline;"
          />
        </div>
      </div>
      <div
        class="col-md-3"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-8"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.query"
          >
            Query
          </label>
          <textarea
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.query"
            name="south.dataSources.0.SQLDbToFile.query"
          >
            SELECT created_at AS timestamp, value1 AS temperature FROM oibus_test WHERE created_at &gt; @LastCompletedDate
          </textarea>
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              SQL query
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-3"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.connectionTimeout"
          >
            Connection timeout (ms)
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.connectionTimeout"
            name="south.dataSources.0.SQLDbToFile.connectionTimeout"
            type="integer"
            value="1000"
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-3"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.requestTimeout"
          >
            Request timeout (ms)
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.requestTimeout"
            name="south.dataSources.0.SQLDbToFile.requestTimeout"
            type="integer"
            value="1000"
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-1"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.delimiter"
          >
            Delimiter
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.delimiter"
            name="south.dataSources.0.SQLDbToFile.delimiter"
            type="text"
            value=","
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Delimiter in the CSV file
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.dateFormat"
          >
            Date format
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.dateFormat"
            name="south.dataSources.0.SQLDbToFile.dateFormat"
            type="text"
            value="YYYY-MM-DD HH:mm:ss.SSS"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Date Format
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-3"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.filename"
          >
            Filename
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.filename"
            name="south.dataSources.0.SQLDbToFile.filename"
            type="text"
            value="sql-@date.csv"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              The name of the CSV file
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.timeColumn"
          >
            Time column
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.timeColumn"
            name="south.dataSources.0.SQLDbToFile.timeColumn"
            type="text"
            value="timestamp"
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Time Column
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.SQLDbToFile.timezone"
          >
            Timezone
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.SQLDbToFile.timezone"
            name="south.dataSources.0.SQLDbToFile.timezone"
          >
            <option
              value="Etc/UTC"
            >
              Etc/UTC
            </option>
            <option
              value="Etc/GMT+12"
            >
              Etc/GMT+12
            </option>
            <option
              value="Pacific/Midway"
            >
              Pacific/Midway
            </option>
            <option
              value="Pacific/Honolulu"
            >
              Pacific/Honolulu
            </option>
            <option
              value="Pacific/Marquesas"
            >
              Pacific/Marquesas
            </option>
            <option
              value="America/Anchorage"
            >
              America/Anchorage
            </option>
            <option
              value="Pacific/Pitcairn"
            >
              Pacific/Pitcairn
            </option>
            <option
              value="America/Los_Angeles"
            >
              America/Los_Angeles
            </option>
            <option
              value="America/Tijuana"
            >
              America/Tijuana
            </option>
            <option
              value="America/Chihuahua"
            >
              America/Chihuahua
            </option>
            <option
              value="America/Denver"
            >
              America/Denver
            </option>
            <option
              value="America/Phoenix"
            >
              America/Phoenix
            </option>
            <option
              value="America/Chicago"
            >
              America/Chicago
            </option>
            <option
              value="America/Guatemala"
            >
              America/Guatemala
            </option>
            <option
              value="America/Mexico_City"
            >
              America/Mexico_City
            </option>
            <option
              value="America/Regina"
            >
              America/Regina
            </option>
            <option
              value="America/Bogota"
            >
              America/Bogota
            </option>
            <option
              value="America/Indiana/Indianapolis"
            >
              America/Indiana/Indianapolis
            </option>
            <option
              value="America/New_York"
            >
              America/New_York
            </option>
            <option
              value="America/Caracas"
            >
              America/Caracas
            </option>
            <option
              value="America/Guyana"
            >
              America/Guyana
            </option>
            <option
              value="America/Halifax"
            >
              America/Halifax
            </option>
            <option
              value="America/La_Paz"
            >
              America/La_Paz
            </option>
            <option
              value="America/Manaus"
            >
              America/Manaus
            </option>
            <option
              value="America/Santiago"
            >
              America/Santiago
            </option>
            <option
              value="America/St_Johns"
            >
              America/St_Johns
            </option>
            <option
              value="America/Argentina/Buenos_Aires"
            >
              America/Argentina/Buenos_Aires
            </option>
            <option
              value="America/Godthab"
            >
              America/Godthab
            </option>
            <option
              value="America/Montevideo"
            >
              America/Montevideo
            </option>
            <option
              value="America/Sao_Paulo"
            >
              America/Sao_Paulo
            </option>
            <option
              value="Atlantic/South_Georgia"
            >
              Atlantic/South_Georgia
            </option>
            <option
              value="Atlantic/Azores"
            >
              Atlantic/Azores
            </option>
            <option
              value="Atlantic/Cape_Verde"
            >
              Atlantic/Cape_Verde
            </option>
            <option
              value="Africa/Casablanca"
            >
              Africa/Casablanca
            </option>
            <option
              value="Africa/Monrovia"
            >
              Africa/Monrovia
            </option>
            <option
              value="Europe/London"
            >
              Europe/London
            </option>
            <option
              value="Africa/Algiers"
            >
              Africa/Algiers
            </option>
            <option
              value="Africa/Windhoek"
            >
              Africa/Windhoek
            </option>
            <option
              value="Europe/Belgrade"
            >
              Europe/Belgrade
            </option>
            <option
              value="Europe/Berlin"
            >
              Europe/Berlin
            </option>
            <option
              value="Europe/Brussels"
            >
              Europe/Brussels
            </option>
            <option
              value="Europe/Warsaw"
            >
              Europe/Warsaw
            </option>
            <option
              value="Africa/Cairo"
            >
              Africa/Cairo
            </option>
            <option
              value="Africa/Harare"
            >
              Africa/Harare
            </option>
            <option
              value="Asia/Amman"
            >
              Asia/Amman
            </option>
            <option
              value="Asia/Beirut"
            >
              Asia/Beirut
            </option>
            <option
              value="Asia/Jerusalem"
            >
              Asia/Jerusalem
            </option>
            <option
              value="Europe/Athens"
            >
              Europe/Athens
            </option>
            <option
              value="Europe/Helsinki"
            >
              Europe/Helsinki
            </option>
            <option
              value="Europe/Minsk"
            >
              Europe/Minsk
            </option>
            <option
              value="Europe/Paris"
            >
              Europe/Paris
            </option>
            <option
              value="Africa/Nairobi"
            >
              Africa/Nairobi
            </option>
            <option
              value="Asia/Baghdad"
            >
              Asia/Baghdad
            </option>
            <option
              value="Asia/Kuwait"
            >
              Asia/Kuwait
            </option>
            <option
              value="Europe/Moscow"
            >
              Europe/Moscow
            </option>
            <option
              value="Asia/Tehran"
            >
              Asia/Tehran
            </option>
            <option
              value="Asia/Baku"
            >
              Asia/Baku
            </option>
            <option
              value="Asia/Muscat"
            >
              Asia/Muscat
            </option>
            <option
              value="Asia/Tbilisi"
            >
              Asia/Tbilisi
            </option>
            <option
              value="Asia/Yerevan"
            >
              Asia/Yerevan
            </option>
            <option
              value="Asia/Kabul"
            >
              Asia/Kabul
            </option>
            <option
              value="Asia/Karachi"
            >
              Asia/Karachi
            </option>
            <option
              value="Asia/Tashkent"
            >
              Asia/Tashkent
            </option>
            <option
              value="Asia/Yekaterinburg"
            >
              Asia/Yekaterinburg
            </option>
            <option
              value="Asia/Colombo"
            >
              Asia/Colombo
            </option>
            <option
              value="Asia/Kolkata"
            >
              Asia/Kolkata
            </option>
            <option
              value="Asia/Kathmandu"
            >
              Asia/Kathmandu
            </option>
            <option
              value="Asia/Dhaka"
            >
              Asia/Dhaka
            </option>
            <option
              value="Asia/Novosibirsk"
            >
              Asia/Novosibirsk
            </option>
            <option
              value="Asia/Rangoon"
            >
              Asia/Rangoon
            </option>
            <option
              value="Asia/Bangkok"
            >
              Asia/Bangkok
            </option>
            <option
              value="Asia/Krasnoyarsk"
            >
              Asia/Krasnoyarsk
            </option>
            <option
              value="Asia/Hong_Kong"
            >
              Asia/Hong_Kong
            </option>
            <option
              value="Asia/Irkutsk"
            >
              Asia/Irkutsk
            </option>
            <option
              value="Asia/Kuala_Lumpur"
            >
              Asia/Kuala_Lumpur
            </option>
            <option
              value="Asia/Taipei"
            >
              Asia/Taipei
            </option>
            <option
              value="Australia/Perth"
            >
              Australia/Perth
            </option>
            <option
              value="Asia/Seoul"
            >
              Asia/Seoul
            </option>
            <option
              value="Asia/Tokyo"
            >
              Asia/Tokyo
            </option>
            <option
              value="Asia/Yakutsk"
            >
              Asia/Yakutsk
            </option>
            <option
              value="Australia/Adelaide"
            >
              Australia/Adelaide
            </option>
            <option
              value="Australia/Darwin"
            >
              Australia/Darwin
            </option>
            <option
              value="Asia/Vladivostok"
            >
              Asia/Vladivostok
            </option>
            <option
              value="Australia/Brisbane"
            >
              Australia/Brisbane
            </option>
            <option
              value="Australia/Hobart"
            >
              Australia/Hobart
            </option>
            <option
              value="Australia/Sydney"
            >
              Australia/Sydney
            </option>
            <option
              value="Pacific/Guam"
            >
              Pacific/Guam
            </option>
            <option
              value="Australia/Lord_Howe"
            >
              Australia/Lord_Howe
            </option>
            <option
              value="Asia/Magadan"
            >
              Asia/Magadan
            </option>
            <option
              value="Pacific/Norfolk"
            >
              Pacific/Norfolk
            </option>
            <option
              value="Pacific/Auckland"
            >
              Pacific/Auckland
            </option>
            <option
              value="Pacific/Fiji"
            >
              Pacific/Fiji
            </option>
            <option
              value="Pacific/Tongatapu"
            >
              Pacific/Tongatapu
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Time Zone
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-check"
        >
          <label
            class="form-check-label"
          >
            Compress File?
            <input
              class="oi-form-input checkbox form-check-input"
              id="south.dataSources.0.SQLDbToFile.compression"
              name="south.dataSources.0.SQLDbToFile.compression"
              type="checkbox"
            />
          </label>
        </div>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: SimulationServer 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        SimulationServer
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (2)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Opcua settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  This protocol is in restricted release. Please contact Optimistik
                </p>
                <p>
                  By default, when you restart, OPCUA HA South will query from the last succesful timestamp (for each scan group) so we dont loose values during the time the HDA was not active. if the cache is deleted (or on the first startup), the default start time will be the current time except if a key 'startTime' (only accessible by editing manually the oibus configuration time) indicates a different start time. This feature has been added to be allow recovering of values from the past when needed. example: starTime: "2020-01-15T23:59:00.000Z" Please use the ISO format even if other format are supported.
                </p>
                <p>
                  <b>
                    Retry interval:
                  </b>
                  Retry interval before trying to connect again
                </p>
                <p>
                  <b>
                    Max read interval:
                  </b>
                  Max read interval will divide a huge request (for example 1 year of data) into smaller requests (for example only one hour if maxReadInterval is 3600).
                </p>
                <p>
                  <b>
                    Read interval delay:
                  </b>
                  A delay (in ms) used to wait between two read intervals. Useful when large amount of data are requested in several requests. The larger the data requested, the bigger the delay should be to avoid cache congestion.
                </p>
                <p>
                  <b>
                    Max return values:
                  </b>
                  Max return values is a parameter allowing to indicate the maximum number of values that can be returned in a single read request. A low value requires the server to split a single reply in multiple chunks creating more network traffic.
                </p>
                <p>
                  <b>
                    Read timeout:
                  </b>
                  This timeout in milliseconds is used in the Client side Communication Stack to set the timeout on a per-call base.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      />
      <div
        class="col-md-2"
      />
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.OPCUA_HA.retryInterval"
            name="south.dataSources.0.OPCUA_HA.retryInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 1000
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.maxReadInterval"
          >
            Max read interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.OPCUA_HA.maxReadInterval"
            name="south.dataSources.0.OPCUA_HA.maxReadInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 60
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Max read interval (s)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.readIntervalDelay"
          >
            Read interval delay
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.readIntervalDelay"
            name="south.dataSources.0.OPCUA_HA.readIntervalDelay"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Time to wait between the read interval iterations (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.maxReturnValues"
          >
            Max return values
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.maxReturnValues"
            name="south.dataSources.0.OPCUA_HA.maxReturnValues"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Max number of values returned for one point during a read interval
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.readTimeout"
          >
            Read timeout
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.readTimeout"
            name="south.dataSources.0.OPCUA_HA.readTimeout"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Read timeout (ms)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            ScanGroups
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  OPCUA HA application will request all points in the same scanMode. OPCUA HA can query raw values but can also aggregate points on a given period. If an aggregate is chosen, the resampling period must also be selected. Important: a point with a scanMode without the corresponding scangroup will not be requested.
                  <br />
                  <b>
                    In the current version, aggregates are NOT supported for production mode. Please use "Raw"
                  </b>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      >
        <table
          class="table table-sm table-striped table-hover"
        >
          <thead>
            <tr>
              <th
                scope="col"
              >
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 512 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"
                  />
                </svg>
                <span>
                  Scan Mode
                </span>
              </th>
              <th
                scope="col"
              >
                aggregate
              </th>
              <th
                scope="col"
              >
                resampling
              </th>
              <th
                scope="col"
              />
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <div
                  class="form-group"
                >
                  <select
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.OPCUA_HA.scanGroups.0.scanMode"
                    name="south.dataSources.0.OPCUA_HA.scanGroups.0.scanMode"
                  >
                    <option
                      value="everySecond"
                    >
                      everySecond
                    </option>
                    <option
                      value="every10Second"
                    >
                      every10Second
                    </option>
                    <option
                      value="every1Min"
                    >
                      every1Min
                    </option>
                    <option
                      value="listen"
                    >
                      listen
                    </option>
                  </select>
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td />
              <td>
                <div
                  class="form-group"
                >
                  <select
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.OPCUA_HA.scanGroups.0.resampling"
                    name="south.dataSources.0.OPCUA_HA.scanGroups.0.resampling"
                  >
                    <option
                      value="None"
                    >
                      None
                    </option>
                    <option
                      value="Second"
                    >
                      Second
                    </option>
                    <option
                      value="10 Seconds"
                    >
                      10 Seconds
                    </option>
                    <option
                      value="30 Seconds"
                    >
                      30 Seconds
                    </option>
                    <option
                      value="Minute"
                    >
                      Minute
                    </option>
                    <option
                      value="Hour"
                    >
                      Hour
                    </option>
                    <option
                      value="Day"
                    >
                      Day
                    </option>
                  </select>
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td>
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 448 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                  />
                </svg>
              </td>
            </tr>
            <tr>
              <td>
                <div
                  class="form-group"
                >
                  <select
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.OPCUA_HA.scanGroups.1.scanMode"
                    name="south.dataSources.0.OPCUA_HA.scanGroups.1.scanMode"
                  >
                    <option
                      value="everySecond"
                    >
                      everySecond
                    </option>
                    <option
                      value="every10Second"
                    >
                      every10Second
                    </option>
                    <option
                      value="every1Min"
                    >
                      every1Min
                    </option>
                    <option
                      value="listen"
                    >
                      listen
                    </option>
                  </select>
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td />
              <td>
                <div
                  class="form-group"
                >
                  <select
                    aria-invalid="false"
                    class="oi-form-input form-control"
                    id="south.dataSources.0.OPCUA_HA.scanGroups.1.resampling"
                    name="south.dataSources.0.OPCUA_HA.scanGroups.1.resampling"
                  >
                    <option
                      value="None"
                    >
                      None
                    </option>
                    <option
                      value="Second"
                    >
                      Second
                    </option>
                    <option
                      value="10 Seconds"
                    >
                      10 Seconds
                    </option>
                    <option
                      value="30 Seconds"
                    >
                      30 Seconds
                    </option>
                    <option
                      value="Minute"
                    >
                      Minute
                    </option>
                    <option
                      value="Hour"
                    >
                      Hour
                    </option>
                    <option
                      value="Day"
                    >
                      Day
                    </option>
                  </select>
                  <div
                    class="invalid-feedback"
                  />
                </div>
              </td>
              <td>
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 448 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"
                  />
                </svg>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: SimulationServerBis 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        SimulationServerBis
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (1)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Opcua settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  This protocol is in restricted release. Please contact Optimistik
                </p>
                <p>
                  By default, when you restart, OPCUA HA South will query from the last succesful timestamp (for each scan group) so we dont loose values during the time the HDA was not active. if the cache is deleted (or on the first startup), the default start time will be the current time except if a key 'startTime' (only accessible by editing manually the oibus configuration time) indicates a different start time. This feature has been added to be allow recovering of values from the past when needed. example: starTime: "2020-01-15T23:59:00.000Z" Please use the ISO format even if other format are supported.
                </p>
                <p>
                  <b>
                    Retry interval:
                  </b>
                  Retry interval before trying to connect again
                </p>
                <p>
                  <b>
                    Max read interval:
                  </b>
                  Max read interval will divide a huge request (for example 1 year of data) into smaller requests (for example only one hour if maxReadInterval is 3600).
                </p>
                <p>
                  <b>
                    Read interval delay:
                  </b>
                  A delay (in ms) used to wait between two read intervals. Useful when large amount of data are requested in several requests. The larger the data requested, the bigger the delay should be to avoid cache congestion.
                </p>
                <p>
                  <b>
                    Max return values:
                  </b>
                  Max return values is a parameter allowing to indicate the maximum number of values that can be returned in a single read request. A low value requires the server to split a single reply in multiple chunks creating more network traffic.
                </p>
                <p>
                  <b>
                    Read timeout:
                  </b>
                  This timeout in milliseconds is used in the Client side Communication Stack to set the timeout on a per-call base.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      />
      <div
        class="col-md-2"
      />
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.OPCUA_HA.retryInterval"
            name="south.dataSources.0.OPCUA_HA.retryInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 1000
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.maxReadInterval"
          >
            Max read interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.OPCUA_HA.maxReadInterval"
            name="south.dataSources.0.OPCUA_HA.maxReadInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 60
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Max read interval (s)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.readIntervalDelay"
          >
            Read interval delay
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.readIntervalDelay"
            name="south.dataSources.0.OPCUA_HA.readIntervalDelay"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Time to wait between the read interval iterations (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.maxReturnValues"
          >
            Max return values
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.maxReturnValues"
            name="south.dataSources.0.OPCUA_HA.maxReturnValues"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Max number of values returned for one point during a read interval
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.readTimeout"
          >
            Read timeout
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.readTimeout"
            name="south.dataSources.0.OPCUA_HA.readTimeout"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Read timeout (ms)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            ScanGroups
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  OPCUA HA application will request all points in the same scanMode. OPCUA HA can query raw values but can also aggregate points on a given period. If an aggregate is chosen, the resampling period must also be selected. Important: a point with a scanMode without the corresponding scangroup will not be requested.
                  <br />
                  <b>
                    In the current version, aggregates are NOT supported for production mode. Please use "Raw"
                  </b>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      >
        <table
          class="table table-sm table-striped table-hover"
        >
          <thead>
            <tr>
              <th
                scope="col"
              >
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 512 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"
                  />
                </svg>
                <span>
                  Scan Mode
                </span>
              </th>
              <th
                scope="col"
              >
                aggregate
              </th>
              <th
                scope="col"
              >
                resampling
              </th>
              <th
                scope="col"
              />
            </tr>
          </thead>
          <tbody />
        </table>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with dataSource: SimulationServerBis copy 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        SimulationServerBis copy
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (1)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <div
            class="custom-switch custom-control"
          >
            <input
              class="custom-control-input"
              color="secondary"
              id="south.dataSources.0.enabled"
              name="south.dataSources.0.enabled"
              type="checkbox"
            />
            <label
              class="custom-control-label"
              for="south.dataSources.0.enabled"
            >
              Disabled
            </label>
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Enable this application
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Opcua settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  This protocol is in restricted release. Please contact Optimistik
                </p>
                <p>
                  By default, when you restart, OPCUA HA South will query from the last succesful timestamp (for each scan group) so we dont loose values during the time the HDA was not active. if the cache is deleted (or on the first startup), the default start time will be the current time except if a key 'startTime' (only accessible by editing manually the oibus configuration time) indicates a different start time. This feature has been added to be allow recovering of values from the past when needed. example: starTime: "2020-01-15T23:59:00.000Z" Please use the ISO format even if other format are supported.
                </p>
                <p>
                  <b>
                    Retry interval:
                  </b>
                  Retry interval before trying to connect again
                </p>
                <p>
                  <b>
                    Max read interval:
                  </b>
                  Max read interval will divide a huge request (for example 1 year of data) into smaller requests (for example only one hour if maxReadInterval is 3600).
                </p>
                <p>
                  <b>
                    Read interval delay:
                  </b>
                  A delay (in ms) used to wait between two read intervals. Useful when large amount of data are requested in several requests. The larger the data requested, the bigger the delay should be to avoid cache congestion.
                </p>
                <p>
                  <b>
                    Max return values:
                  </b>
                  Max return values is a parameter allowing to indicate the maximum number of values that can be returned in a single read request. A low value requires the server to split a single reply in multiple chunks creating more network traffic.
                </p>
                <p>
                  <b>
                    Read timeout:
                  </b>
                  This timeout in milliseconds is used in the Client side Communication Stack to set the timeout on a per-call base.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      />
      <div
        class="col-md-2"
      />
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.retryInterval"
          >
            Retry interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.OPCUA_HA.retryInterval"
            name="south.dataSources.0.OPCUA_HA.retryInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 1000
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Retry Interval (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.maxReadInterval"
          >
            Max read interval
          </label>
          <input
            aria-invalid="true"
            class="oi-form-input is-invalid form-control"
            id="south.dataSources.0.OPCUA_HA.maxReadInterval"
            name="south.dataSources.0.OPCUA_HA.maxReadInterval"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          >
            Value must be greater than 60
          </div>
          <small
            class="form-text text-muted"
          >
            <div>
              Max read interval (s)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.readIntervalDelay"
          >
            Read interval delay
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.readIntervalDelay"
            name="south.dataSources.0.OPCUA_HA.readIntervalDelay"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Time to wait between the read interval iterations (ms)
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.maxReturnValues"
          >
            Max return values
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.maxReturnValues"
            name="south.dataSources.0.OPCUA_HA.maxReturnValues"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Max number of values returned for one point during a read interval
            </div>
          </small>
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.OPCUA_HA.readTimeout"
          >
            Read timeout
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.OPCUA_HA.readTimeout"
            name="south.dataSources.0.OPCUA_HA.readTimeout"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
          <small
            class="form-text text-muted"
          >
            <div>
              Read timeout (ms)
            </div>
          </small>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            ScanGroups
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <p>
                  OPCUA HA application will request all points in the same scanMode. OPCUA HA can query raw values but can also aggregate points on a given period. If an aggregate is chosen, the resampling period must also be selected. Important: a point with a scanMode without the corresponding scangroup will not be requested.
                  <br />
                  <b>
                    In the current version, aggregates are NOT supported for production mode. Please use "Raw"
                  </b>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-6"
      >
        <table
          class="table table-sm table-striped table-hover"
        >
          <thead>
            <tr>
              <th
                scope="col"
              >
                <svg
                  class="oi-icon"
                  fill="currentColor"
                  height="1em"
                  stroke="currentColor"
                  stroke-width="0"
                  viewBox="0 0 512 512"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"
                  />
                </svg>
                <span>
                  Scan Mode
                </span>
              </th>
              <th
                scope="col"
              >
                aggregate
              </th>
              <th
                scope="col"
              >
                resampling
              </th>
              <th
                scope="col"
              />
            </tr>
          </thead>
          <tbody />
        </table>
      </div>
    </div>
  </form>
</div>
`;

exports[`SouthForm check SouthForm with empty dataSource 1`] = `
<div>
  <div
    class="d-flex align-items-center w-100 oi-sub-nav mb-2"
    id="oi-sub-nav"
  >
    <h6
      class="text-muted d-flex align-items-center pl-3 pt-1"
    >
      <div>
        emptyDataSource
      </div>
      <button
        aria-label="Close"
        class="close"
        type="button"
      >
        <svg
          class="oi-icon ml-2"
          fill="currentColor"
          height="1em"
          stroke="currentColor"
          stroke-width="0"
          viewBox="0 0 512 512"
          width="1em"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"
          />
        </svg>
      </button>
    </h6>
    <div
      class="pull-right mr-3"
    >
      <button
        class="inline-button autosize oi-status-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Status
      </button>
      <button
        class="inline-button autosize oi-points-button btn btn-outline-secondary btn-sm"
        type="button"
      >
        Points (0)
      </button>
    </div>
  </div>
  <form
    class=""
  >
    <div
      class="row"
    >
      <h5>
        General settings
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <ul>
              <li>
                This form allows to configure protocol-specific parameters.
              </li>
              <li>
                You need to activate the protocol with the enabled checkbox.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <h5>
        Logging parameters
        <button
          aria-label="Close"
          class="close"
          id="id"
        >
          <svg
            class="oi-help"
            fill="currentColor"
            height="1em"
            stroke="currentColor"
            stroke-width="0"
            viewBox="0 0 512 512"
            width="1em"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
            />
          </svg>
        </button>
      </h5>
    </div>
    <div
      class="container-fluid"
    >
      <div
        class="collapse"
        toggler="id"
      >
        <div
          class="row"
          style="margin-bottom: 15px;"
        >
          <div
            class="col"
          >
            <p>
              OIBus can send logs to 3 different supports:
            </p>
            <ul>
              <li>
                The Console logs message on the terminal. It cannot be used when OIBus runs as a Windows service
              </li>
              <li>
                The File logs logs message on the chosen folder of the server
              </li>
              <ul>
                <li>
                  filename: The filename of the logfile to write output to.
                </li>
                <li>
                  maxsize: Max size in bytes of the logfile, if the size is exceeded then a new file is created, a counter will become a suffix of the log file.
                </li>
                <li>
                  maxFiles: Limit the number of files created when the size of the logfile is exceeded.
                </li>
                <li>
                  tailable: If true, log files will be rolled based on maxsize and maxfiles, but in ascending order. The filename will always have the most recent log lines. The larger the appended number, the older the log file. This option requires maxFiles to be set, or it will be ignored.
                </li>
              </ul>
              <li>
                The sqlite logs will be used to store logs on the chosen database of the server. This allows to see logs remotely using the Logs menu. The maximum size can be defined so older message will be deleted automatically.
              </li>
            </ul>
            <table>
              <thead>
                <tr>
                  <th>
                    Possible levels
                  </th>
                  <th>
                    Description
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>
                    Engine
                  </td>
                  <td>
                    will use global log level selected on engine
                  </td>
                </tr>
                <tr>
                  <td>
                    Error
                  </td>
                  <td>
                    these logs needs investigation in a production system
                  </td>
                </tr>
                <tr>
                  <td>
                    Warning
                  </td>
                  <td>
                    unexpected behavior that will not impact significantly the system
                  </td>
                </tr>
                <tr>
                  <td>
                    Info
                  </td>
                  <td>
                    information useful to the administrator
                  </td>
                </tr>
                <tr>
                  <td>
                    Debug
                  </td>
                  <td>
                    informations useful only to debug an issue
                  </td>
                </tr>
                <tr>
                  <td>
                    Silly
                  </td>
                  <td>
                    informations useful to debug an issue but they will significantly impact performances
                  </td>
                </tr>
              </tbody>
            </table>
            <br />
            <p>
              We recommend to use the info or warning levels in normal operations and to put the debug or the silly mode only to identify the origin of an issue.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.consoleLevel"
          >
            Console level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.consoleLevel"
            name="south.dataSources.0.logParameters.consoleLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.fileLevel"
          >
            File level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.fileLevel"
            name="south.dataSources.0.logParameters.fileLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.logParameters.sqliteLevel"
          >
            Sqlite level
          </label>
          <select
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.logParameters.sqliteLevel"
            name="south.dataSources.0.logParameters.sqliteLevel"
          >
            <option
              value="engine"
            >
              engine
            </option>
            <option
              value="debug"
            >
              debug
            </option>
            <option
              value="info"
            >
              info
            </option>
            <option
              value="warning"
            >
              warning
            </option>
            <option
              value="error"
            >
              error
            </option>
            <option
              value="silly"
            >
              silly
            </option>
          </select>
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Mqtt settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    This protocol is in restricted release. Please contact Optimistik
                  </p>
                  <ul>
                    <li>
                      <b>
                        Url:
                      </b>
                      MQTT host to connect. Make sure you specify the right protocol, host and port number. The MQTT client may not get connected if you mention wrong port number or interchange port numbers.
                    </li>
                    <li>
                      <b>
                        QoS:
                      </b>
                      The Quality of Service (QoS) level is an agreement between the sender of a message and the receiver of a message that defines the guarantee of delivery for a specific message. There are 3 QoS levels in MQTT:
                      <ul>
                        <li>
                          At most once (0)
                        </li>
                        <li>
                          At least once (1)
                        </li>
                        <li>
                          Exactly once (2)
                        </li>
                      </ul>
                    </li>
                    <li>
                      <b>
                        Persistent:
                      </b>
                      In this mode the broker will store subscription information, and undelivered messages for the client. With a non persistent connection the broker does not store any subscription information or undelivered messages for the client. For this option to take effect QoS must be set to 1 or 2.
                    </li>
                    <li>
                      <b>
                        Client ID:
                      </b>
                      In order for the broker to store session information for a client a client id must be used.
                    </li>
                    <li>
                      <b>
                        Username:
                      </b>
                      Username required by the broker, if any.
                    </li>
                    <li>
                      <b>
                        Password:
                      </b>
                      Password required by the broker, if any.
                    </li>
                    <li>
                      <b>
                        Cert File:
                      </b>
                      Server certificate used for MQTTS protocol in PEM format.
                    </li>
                    <li>
                      <b>
                        Key File:
                      </b>
                      MQTT client private key in PEM format.
                    </li>
                    <li>
                      <b>
                        CA File:
                      </b>
                      Certificate Authority file in PEM format. If empty we consider the Cert File as self-signed certificate.
                    </li>
                    <li>
                      <b>
                        Reject Unauthorized:
                      </b>
                      In some cases the certificate (CertFile) can not be verified. (ex: certificate is self-signed or Certification Authority can not be contacted). If Reject Unauthorized is set to false, the connection will still be encrypted but may be vulnerable to man in the middle attacks.
                    </li>
                    <li>
                      <b>
                        Keepalive:
                      </b>
                      Set to 0 to disable.
                    </li>
                    <li>
                      <b>
                        Reconnect period:
                      </b>
                      Interval between two reconnections. Disable auto reconnect by setting to 0.
                    </li>
                    <li>
                      <b>
                        Connect timout:
                      </b>
                      Time to wait before a CONNACK is received.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
      <div
        class="col-md-1"
      />
      <div
        class="col-md-1"
      />
      <div
        class="col-md-2"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.keepalive"
          >
            Keep Alive Interval
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.keepalive"
            name="south.dataSources.0.MQTT.keepalive"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.reconnectPeriod"
          >
            Reconnect period (ms)
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.reconnectPeriod"
            name="south.dataSources.0.MQTT.reconnectPeriod"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
      <div
        class="col-md-4"
      >
        <div
          class="form-group"
        >
          <label
            class=""
            for="south.dataSources.0.MQTT.connectTimeout"
          >
            Connect Timeout (ms)
          </label>
          <input
            aria-invalid="false"
            class="oi-form-input form-control"
            id="south.dataSources.0.MQTT.connectTimeout"
            name="south.dataSources.0.MQTT.connectTimeout"
            type="integer"
            value=""
          />
          <div
            class="invalid-feedback"
          />
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Mqtt payload
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <ul>
                    <li>
                      <b>
                        Data array path:
                      </b>
                      Optional. If empty, the payload is a simple JSON object. If specified, the JSON contains a JSON object array at the specified path.
                    </li>
                    <li>
                      <b>
                        Value path:
                      </b>
                      Mandatory. This string is the JSON key path where to find the value (in the array element if data array path is specified, or directly in the JSON object if not).
                    </li>
                    <li>
                      <b>
                        Node id path:
                      </b>
                      Optional. If empty, the nodeId is inferred from the topic. If not empty, this string indicates where to find the nodeId value (in the array element if data array path is specified, or directly in the JSON object if not).
                    </li>
                    <li>
                      <b>
                        Quality path:
                      </b>
                      Mandatory. This string is the JSON key path where to find the quality (in the array element if data array path is specified, or directly in the JSON object if not).
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-12"
      >
        <div
          class="row"
        >
          <h5>
            Timestamp settings
            <button
              aria-label="Close"
              class="close"
              id="id"
            >
              <svg
                class="oi-help"
                fill="currentColor"
                height="1em"
                stroke="currentColor"
                stroke-width="0"
                viewBox="0 0 512 512"
                width="1em"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z"
                />
              </svg>
            </button>
          </h5>
        </div>
        <div
          class="container-fluid"
        >
          <div
            class="collapse"
            toggler="id"
          >
            <div
              class="row"
              style="margin-bottom: 15px;"
            >
              <div
                class="col"
              >
                <div>
                  <p>
                    These parameters describe how to determine the timeStamp
                  </p>
                  <ul>
                    <li>
                      <b>
                        Time Origin:
                      </b>
                      If the value is "oibus" the timestamp will be the timestamp for the reception of the value by oibus. If the value is "payload" the timestamp will be retrieved from the MQTT payload using the key specified below.
                    </li>
                    <li>
                      <b>
                        TimeStamp Path:
                      </b>
                      The string indicates which key in the payload contains the timestamp value. If the payload is an array of data, it indicates the key that contains the timestamp value in the elements of this array
                    </li>
                    <li>
                      <b>
                        TimeStamp Format:
                      </b>
                      The string indicates which format to use to parse the timestamp. For example, the timestamp '2020-09-16 07:00:00.000' is in the format YYYY-MM-DD HH:mm:ss.SSS. Another example : if the timestamp is '2020-09-16T07:00:00Z' so the format would be YYYY-MM-DDTHH:mm:ssZ.
                    </li>
                    <li>
                      <b>
                        TimeStamp timezone:
                      </b>
                      This field indicates in which timezone the timestamp received is. OIBus then converts it into an UTC timestamp.
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div
      class="row"
    >
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
      <div
        class="col-md-4"
      />
      <div
        class="col-md-2"
      />
    </div>
  </form>
</div>
`;
