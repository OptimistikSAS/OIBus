---
sidebar_position: 1
---

# Engine Settings

## OIBus Name

Naming your OIBus instance is important, especially when managing multiple instances. A clear name helps identify each OIBus in logs, dashboards, and monitoring tools.

## OIBus Port

The default port for accessing OIBus settings via the web interface is **2223** (`http://localhost:2223`).
You can change this port if needed—for example, to resolve conflicts or improve security.

## Proxy Server

OIBus can act as a **proxy server**, enabling it to forward HTTP(S) requests to a target host. This feature is especially useful when two OIBus instances are deployed in separate networks:

- **OIBus1**: Installed in a network with internet access.
- **OIBus2**: Installed in a network without internet access.

By configuring **OIBus1** as a proxy server, **OIBus2** can send data to the internet through **OIBus1**, provided the North connector allows it.

### Prerequisites

1. **Firewall Configuration**: Ensure your firewall allows inbound connections from **OIBus2** to **OIBus1** on the specified proxy port.
2. **IP Filter**: Authorize the IP address of **OIBus2** in the [IP Filter](./ip-filters.mdx) section of **OIBus1**.

### Configuration Steps

#### On OIBus1 (Proxy Server)

1. Enable the **proxy server** option.
2. Set the **listening port** (e.g., `2224`).
3. Ensure the firewall allows inbound connections on this port.
4. Authorize the IP address of **OIBus2** in the **IP Filter** section.

#### On OIBus2 (Proxy Client)

1. Configure the **North connector** or **OIAnalytics registration settings** to use the proxy server.
2. Specify the address and port of **OIBus1**’s proxy server (e.g., `http://oibus1.fr:2224`).

### Example

#### Scenario

- **OIBus1**:
- Acts as a proxy server.
- Listens on port `2224`.
- Accessible at `http://oibus1.fr`.
- **OIBus2**:
- Configured with an [Azure Blob North Connector](../north-connectors/azure-blob.md) and an [OIAnalytics North Connector](../north-connectors/oianalytics.md).
- Sends data to Azure and OIAnalytics via **OIBus1**’s proxy server.

<div style={{ textAlign: 'center' }}>![Network proxy example](../../../static/img/guide/engine/proxy-network.svg)</div>

#### Configuration

1. **On OIBus1**:

- Enable the proxy server and set it to listen on port `2224`.
- Authorize **OIBus2**’s IP address in the **IP Filter**.

<div style={{ textAlign: 'center' }}>![Proxy server example](../../../static/img/guide/engine/proxy-server-example.png)</div>

2. **On OIBus2**:

- In the **Azure Blob North Connector** settings, specify the proxy server:
- **Proxy URL**: `http://oibus1.fr:2224`

<div style={{ textAlign: 'center' }}>![North proxy example](../../../static/img/guide/engine/north-proxy-example.png)</div>

:::tip
If you use a [North OIAnalytics](../north-connectors/oianalytics.md) with [OIAnalytics registration](../installation/oianalytics.mdx), configure the proxy client settings in the **registration settings**.
:::

---

## Logging Parameters

OIBus supports six log levels, from most to least critical:

| Log Level | Description                                                                  |
| --------- | ---------------------------------------------------------------------------- |
| None      | Deactivates all logs.                                                        |
| Error     | Logs only errors.                                                            |
| Warning   | Logs warnings and errors.                                                    |
| Info      | Logs informational messages, warnings, and errors.                           |
| Debug     | Logs detailed information for debugging, plus all above levels.              |
| Trace     | Logs highly detailed and verbose information, primarily for troubleshooting. |

:::caution
Use **Trace** and **Debug** log levels only for troubleshooting, as they generate large volumes of data.
:::

### Log Output Options

#### OIAnalytics

- If OIBus is [registered with OIAnalytics](../installation/oianalytics.mdx), logs can be forwarded to OIAnalytics.
- These settings are ignored if OIBus is not registered.

#### Database

- Save logs in a local **SQLite database**.
- View logs in the **Logs tab** of OIBus.
- Set a **maximum number of logs** to prevent the database from growing too large. Older logs are automatically purged.

#### File

- Store logs in one or more files.
- Configure:
- **Maximum file size** (in MB)
- **Number of files** for log rotation

#### Loki

- Send logs to a remote **Loki** instance in batches.
- Configure:
- **URL**
- **Batch interval** (default: 60 seconds)
- **Basic Auth credentials** (username and password)

:::caution
Logs sent to Loki are identified by the **OIBus ID** and name. Ensure the name is correctly set to locate your logs, especially if you have multiple OIBus instances.
:::

#### Console

- Displays logs in the **Console**.
- Accessible by running OIBus from a terminal.
