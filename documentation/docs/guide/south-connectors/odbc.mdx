import ItemSettings from './_south-sql-item-settings.mdx';
import ThrottlingSettings from './_throttling-settings.mdx';

# ODBC

Connect to ODBC data sources either locally or through a remote [OIBus Agent](../oibus-agent/odbc.md). Particularly useful for systems like Aspen InfoPlus.21Â® (IP21) and other ODBC-compatible applications.

:::info Compatibility Notes

- Works with any ODBC-compatible data source
- Recommended for Aspen IP21 connections
- Supports both local and remote driver configurations

:::

## Specific Settings

| Setting            | Description                                      | Default Value | Notes                                                          |
| ------------------ | ------------------------------------------------ | ------------- | -------------------------------------------------------------- |
| Use remote agent   | Enable to use OIBus Agent on remote machine      | Disabled      | Requires [agent installation](../oibus-agent/installation.mdx) |
| Remote agent URL   | Agent endpoint (e.g., `http://host:2224`)        | -             | Required when using remote agent                               |
| Connection timeout | Maximum time (ms) to establish connection        | 15000         | Recommended: 5000-15000ms                                      |
| Retry interval     | Time (ms) to wait before retrying connection     | 10000         |                                                                |
| Connection string  | ODBC connection string in driver-specific format | -             | See examples below                                             |
| Password           | Authentication password (stored securely)        | -             | Added as `PWD=<password>` if not in string                     |

### Connection String Examples

**Windows**:
`Driver={driver name};SERVER=host;PORT=10014;Database=db;UID=user`

> Example: `Driver={AspenTech SQLplus};HOST=ip21-server;PORT=10014;MAXROWS=12000000`

**UNIX-like systems**:
`Driver=/path/to/driver.so;SERVER=host;PORT=10014;Database=db;UID=user`

> Example: `Driver=/opt/lib/libmsodbcsql.18.dylib;SERVER=localhost;Database=test`

:::tip macOS Setup

1. Install unixodbc: `brew install unixodbc`
2. Verify installation: `odbcinst -j`
3. List drivers: `cat /opt/homebrew/etc/odbcinst.ini`
   :::

### Driver Installation

| Platform   | Installation Method                                        |
| ---------- | ---------------------------------------------------------- |
| Windows    | Use ODBC Data Source Administrator to configure drivers    |
| UNIX/Linux | Install driver then specify full path in connection string |
| macOS      | `brew install unixodbc` + driver installation              |

### Aspen IP21 Configuration

For optimal IP21 performance:

1. Install OIBus Agent on IP21 machine
2. Use connection string: `Driver={AspenTech SQLplus};HOST=<host>;PORT=10014;MAXROWS=12000000`
3. Ensure `AspenTech SQLplus` driver is installed on agent machine
4. Configure agent service with appropriate permissions

:::caution Authentication

- Passwords in connection strings are stored in plain text. Use **Password** field instead.
- For local authentication, ensure OIBus Agent runs with proper permissions

:::

<ThrottlingSettings />
<ItemSettings />
