<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guide/advanced/oibus-data-rate" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">Data rate estimation and cache sizing | OIBus - Data collection solution</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oibus.optimistik.com/docs/guide/advanced/oibus-data-rate"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data rate estimation and cache sizing | OIBus - Data collection solution"><meta data-rh="true" name="description" content="OIBus facilitates the transmission of values to a target application via North connectors such as OIBus and OIAnalytics,"><meta data-rh="true" property="og:description" content="OIBus facilitates the transmission of values to a target application via North connectors such as OIBus and OIAnalytics,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oibus.optimistik.com/docs/guide/advanced/oibus-data-rate"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com/docs/guide/advanced/oibus-data-rate" hreflang="en"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com/zh/docs/guide/advanced/oibus-data-rate" hreflang="zh"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com/docs/guide/advanced/oibus-data-rate" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RFGM4OD43Y-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="OIBus - Data collection solution" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.4a9ef1bb.css">
<script src="/assets/js/runtime~main.2d2f1377.js" defer="defer"></script>
<script src="/assets/js/main.94b26aa1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OIBus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="OIBus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OIBus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/guide/">Documentation</a><a class="navbar__item navbar__link" href="/docs/developer/">Developer</a><a class="navbar__item navbar__link" href="/docs/use-cases/">Use cases</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/guide/">v3</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/guide/advanced/oibus-data-rate">v3</a></li><li><a class="dropdown__link" href="/docs/v2/guide/advanced/oibus-data-rate">v2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/guide/advanced/oibus-data-rate" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/docs/guide/advanced/oibus-data-rate" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guide/">Main concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/installation">Installation</a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/engine">Engine</a><button aria-label="Expand sidebar category &#x27;Engine&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/north-connectors">North connectors</a><button aria-label="Expand sidebar category &#x27;North connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/south-connectors">South connectors</a><button aria-label="Expand sidebar category &#x27;South connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guide/history-queries">History queries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/advanced">Advanced</a><button aria-label="Collapse sidebar category &#x27;Advanced&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/advanced/oibus-security">OIBus security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/advanced/oibus-to-oibus">OIBus to OIBus communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guide/advanced/oibus-data-rate">Data rate estimation and cache sizing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/oibus-agent">OIBus Agent</a><button aria-label="Expand sidebar category &#x27;OIBus Agent&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/advanced"><span itemprop="name">Advanced</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Data rate estimation and cache sizing</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Data rate estimation and cache sizing</h1>
<p>OIBus facilitates the transmission of values to a target application via North connectors such as OIBus and OIAnalytics,
offering two distinct sending modes:</p>
<ul>
<li><strong>File Endpoint</strong>: Data can be sent by storing it in a file, which is then transferred via the files&#x27; endpoint.</li>
<li><strong>JSON Payloads Endpoint</strong>: Alternatively, data can be transmitted as JSON payloads using the values&#x27; endpoint.</li>
</ul>
<p>Estimating the appropriate cache size is essential to ensure smooth and reliable store-and-forward operations, and it
depends on various factors including the type of data to be sent and the chosen sending mode. Here are some tips for
estimating the cache size effectively:</p>
<ul>
<li><strong>Data Volume</strong>: Analyze the volume of data that your OIBus instance needs to transmit. Consider both the size of individual
data elements and the frequency of data updates.</li>
<li><strong>Sending Frequency</strong>: Evaluate how often data needs to be sent. Frequent transmissions may require larger caches to
accommodate temporary disruptions in connectivity.</li>
<li><strong>Transmission Mode</strong>: The chosen sending mode (file or JSON payloads) can impact cache size requirements. JSON
payloads may consume more memory due to their structured format.</li>
<li><strong>Network Reliability</strong>: If the network connection to the target application is unreliable or experiences frequent
interruptions, a larger cache may be needed to store data during downtime.</li>
<li><strong>Latency Tolerance</strong>: Consider the acceptable latency between data generation and data delivery to the target
application. A larger cache can help mitigate delays caused by network issues.</li>
<li><strong>Retention Policy</strong>: Determine how long data should be retained in the cache before attempting to resend it. This
retention period will influence cache size requirements.</li>
<li><strong>Resource Availability</strong>: Assess the available resources on the OIBus machine, including RAM and storage, as these
will impact your ability to allocate a sufficiently sized cache.</li>
<li><strong>Monitoring and Testing</strong>: Regularly monitor and test your cache system to ensure it meets the actual needs of your
data transmission process. Adjust the cache size as necessary based on real-world performance.</li>
</ul>
<p>By carefully considering these factors, you can make informed decisions about the cache size needed to support efficient
and reliable data transmission from OIBus to your target application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sending-files-csv">Sending files (CSV)<a href="#sending-files-csv" class="hash-link" aria-label="Direct link to Sending files (CSV)" title="Direct link to Sending files (CSV)">​</a></h2>
<p>Some protocols like SQL can let you organize the data in the resulting file. Here are some tips to understand how it
impacts the resulting file size.</p>
<p>Based on the provided assumptions, you can calculate the approximate space a CSV file generated by OIBus would
occupy. Let&#x27;s break down the key parameters and calculate the file size with the given examples:</p>
<ul>
<li><strong>Sampling Frequency</strong>: One point per minute, which means there are 60 data points per hour.</li>
<li><strong>File Sending Frequency</strong>: One file sent every 30 minutes, resulting in 2 files per hour.</li>
<li><strong>Timestamp Format</strong>: ISO 8601 format, 24 bytes in size.</li>
<li><strong>Data Value Format</strong>: 3 digits with a separator for decimal places, making the data size 4 bytes.</li>
<li><strong>Size of data References</strong>: Data references are in the format &quot;DataXXX,&quot; where XXX represents three numeric characters. Therefore, each reference is 7 bytes in size.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="row-files">Row files<a href="#row-files" class="hash-link" aria-label="Direct link to Row files" title="Direct link to Row files">​</a></h3>
<p>This format is particularly suitable when the different data transmitted do not have the same sampling frequency. In
the example we assume that all data has the same sample rate.</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Row file CSV</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Timestamp	                Reference	    Value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:04:00.000Z	Data001	        12.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:04:00.000Z	Data002	        10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:04:00.000Z	Data003	        10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:05:00.000Z	Data001	        10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:05:00.000Z	Data002	        19.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:05:00.000Z	Data003	        10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:06:00.000Z	Data001	        10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:06:00.000Z	Data002	        10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:06:00.000Z	Data003	        14.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now, let&#x27;s calculate the size of each row file CSV:
<code>Timestamp (24 bytes) + Data Reference (7 bytes) + Data Value (4 bytes) + 3 separators (3 bytes) = 38 bytes</code> per data point.</p>
<p>For 60 data points per hour, the data size per hour is: <code>38 bytes/data point * 60 data points = 2280 bytes per hour</code>
(header excluded).</p>
<p>With 2 files sent per hour, the hourly file size would be: <code>2 files/hour * 2100 bytes/file = 4560 bytes per hour</code>.</p>
<p>Keep in mind that this calculation provides an estimate based on the specified assumptions, and actual file sizes may
vary depending on additional factors such as the <strong>Data Value Format</strong>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="column-files">Column files<a href="#column-files" class="hash-link" aria-label="Direct link to Column files" title="Direct link to Column files">​</a></h3>
<p>This format is especially well-suited for data that shares the same timestamp repeatedly, offering space savings compared
to a format where each data point is placed on a separate line.</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Column file CSV</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Timestamp	                Data001	    Data002	    Data003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:04:00.000Z	12.0	    10.0	    10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:05:00.000Z	10.0	    19.0	    10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:06:00.000Z	10.0	    10.0	    14.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s calculate the size of each column file CSV:
<code>Timestamp (24 bytes) + Data Value (4 bytes) * 3 + 4 separators (4 bytes) = 40 bytes</code> per data point.</p>
<p>For 60 data points per hour, the data size per hour is: <code>40 bytes/data point * 60 data points = 2400 bytes per hour</code>
(header excluded).</p>
<p>With 2 files sent per hour, the hourly file size would be: <code>2 files/hour * 2400 bytes/file = 4800 bytes per hour</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="column-row-files">Column row files<a href="#column-row-files" class="hash-link" aria-label="Direct link to Column row files" title="Direct link to Column row files">​</a></h3>
<p>This format combines the benefits of a column-based file structure and allows for the consolidation of data identifiers
(001, 002, 003) with their references, although in this case, only <code>Data</code> is utilized. This results in references like
<strong>Data001</strong>, <strong>Data002</strong>, and <strong>Data003</strong>.</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Column row file CSV</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Timestamp	                Reference	001	    002	    003</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:04:00.000Z	Data	    12.0	10.0	10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:05:00.000Z	Data	    10.0	19.0	10.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2020-02-01T20:06:00.000Z	Data	    10.0	10.0	14.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s calculate the size of each column file CSV:
<code>Timestamp (24 bytes) + Data Reference (4 bytes) + Data Value (4 bytes) * 3 + 5 separators (5 bytes) = 45 bytes</code> per
data point.</p>
<p>For 60 data points per hour, the data size per hour is: <code>45 bytes/data point * 60 data points = 2700 bytes per hour</code>
(header excluded).</p>
<p>With 2 files sent per hour, the hourly file size would be: <code>2 files/hour * 2700 bytes/file = 5400 bytes per hour</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sending-values-json-payload">Sending values (JSON payload)<a href="#sending-values-json-payload" class="hash-link" aria-label="Direct link to Sending values (JSON payload)" title="Direct link to Sending values (JSON payload)">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="format">Format<a href="#format" class="hash-link" aria-label="Direct link to Format" title="Direct link to Format">​</a></h3>
<p>When the North connector retrieves values and transmits them to a values&#x27; endpoint (OIBus North Connector or OIAnalytics),
they are presented in an array format as follows:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">JSON payload</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {&quot;timestamp&quot;: &quot;2020-02-01T20:04:00.000Z&quot;, &quot;pointId&quot;:&quot;Data001&quot;, &quot;data&quot;: {&quot;value&quot;: &quot;12.0&quot;, &quot;quality&quot;: &quot;192&quot;}},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {&quot;timestamp&quot;: &quot;2020-02-01T20:04:00.000Z&quot;, &quot;pointId&quot;:&quot;Data002&quot;, &quot;data&quot;: {&quot;value&quot;: &quot;10.0&quot;, &quot;quality&quot;: &quot;192&quot;}}, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {&quot;timestamp&quot;: &quot;2020-02-01T20:04:00.000Z&quot;, &quot;pointId&quot;:&quot;Data003&quot;, &quot;data&quot;: {&quot;value&quot;: &quot;10.0&quot;, &quot;quality&quot;: &quot;192&quot;}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Each field conveys the following information:</p>
<ul>
<li><strong>timestamp</strong>: denotes the timestamp of the value in ISO 8601 format.</li>
<li><strong>pointId</strong>: serves as a reference for the value.</li>
<li><strong>data</strong>: a JSON object that encompasses the recorded value (value) and its quality (quality) or other fields.</li>
</ul>
<p>Our primary focus will be on the data within the JSON file format. In this context, its size is contingent upon various
parameters, including:</p>
<ul>
<li>The data sampling frequency.</li>
<li>The number of points grouped together for transmission (as defined by <a href="/docs/guide/north-connectors/common-settings#caching">Group Count</a>).</li>
<li>The frequency of transmission (as defined by <a href="/docs/guide/north-connectors/common-settings#caching">Send Interval</a>).</li>
<li>The format of data and quality, specifically the number of characters used for precision.</li>
<li>The size of the data references.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="size-estimation">Size estimation<a href="#size-estimation" class="hash-link" aria-label="Direct link to Size estimation" title="Direct link to Size estimation">​</a></h3>
<p>It is possible to estimate the space occupied by a single value based on the following criteria:</p>
<ul>
<li>The timestamp size is 39 bytes (<code>&quot;timestamp&quot;: &quot;2020-02-01T20:00:00.000Z&quot;</code>).</li>
<li>The pointId size takes the form of <code>&quot;pointId&quot;: &quot;DataXXX&quot;</code>, adding 13 bytes to the number of bytes in the reference
(in this case, 7 bytes for &quot;DataXXX&quot;).</li>
<li>The data field size is 10 bytes (<code>&quot;data&quot;: {...}</code>), in addition to its content:<!-- -->
<ul>
<li>The value field follows the format <code>&quot;value&quot;: &quot;10.0&quot;</code>, adding 11 bytes plus the variable number of bytes required to
encode the value (in this case, 4 bytes).</li>
<li>The quality field is of the form <code>&quot;quality&quot;: &quot;192&quot;</code>, adding 13 bytes plus the variable number of bytes needed to
encode the quality (here, 3 bytes).</li>
</ul>
</li>
</ul>
<p>Therefore, the size of the object representing a value can be broken down as follows:</p>
<ul>
<li>Constant object size: 39 + 13 + 10 + 11 + 13 + 6 = 92 bytes (6 corresponds to the separators between different elements, such as commas).</li>
<li>Size of the reference: 7 bytes</li>
<li>Size of the value: 4 bytes</li>
<li>Size of the quality: 3 bytes</li>
</ul>
<p>The total size of a single object to be sent is therefore <strong>106 bytes</strong> for a single value.</p>
<p>With a sampling frequency of 1 point per minute and 3 data points, a Group Count equal to 1000, and a Send Interval equal
to 60000ms, OIBus will transmit a JSON every minute with 3 data points, totaling 318 bytes.</p>
<p>Over the course of one day, this would amount to <code>318 x 60 = 19080 bytes</code>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guide/advanced/oibus-to-oibus"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OIBus to OIBus communication</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/oibus-agent"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">OIBus Agent</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sending-files-csv" class="table-of-contents__link toc-highlight">Sending files (CSV)</a><ul><li><a href="#row-files" class="table-of-contents__link toc-highlight">Row files</a></li><li><a href="#column-files" class="table-of-contents__link toc-highlight">Column files</a></li><li><a href="#column-row-files" class="table-of-contents__link toc-highlight">Column row files</a></li></ul></li><li><a href="#sending-values-json-payload" class="table-of-contents__link toc-highlight">Sending values (JSON payload)</a><ul><li><a href="#format" class="table-of-contents__link toc-highlight">Format</a></li><li><a href="#size-estimation" class="table-of-contents__link toc-highlight">Size estimation</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guide/">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer/">Developer Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use-cases/">Use cases</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/showcase/oibus-by-optimistik" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Optimistik. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>