<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-guide/south-connectors/mqtt" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.1">
<title data-rh="true">MQTT | OIBus - Data collection solution</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://oibus.optimistik.com/docs/guide/south-connectors/mqtt"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MQTT | OIBus - Data collection solution"><meta data-rh="true" name="description" content="MQTT (Message Queuing Telemetry Transport) is a protocol designed for real-time messaging and data exchange using a"><meta data-rh="true" property="og:description" content="MQTT (Message Queuing Telemetry Transport) is a protocol designed for real-time messaging and data exchange using a"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://oibus.optimistik.com/docs/guide/south-connectors/mqtt"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com/docs/guide/south-connectors/mqtt" hreflang="en"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com/zh/docs/guide/south-connectors/mqtt" hreflang="zh"><link data-rh="true" rel="alternate" href="https://oibus.optimistik.com/docs/guide/south-connectors/mqtt" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://RFGM4OD43Y-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="OIBus - Data collection solution" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.4a9ef1bb.css">
<script src="/assets/js/runtime~main.b7598781.js" defer="defer"></script>
<script src="/assets/js/main.8023037b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OIBus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="OIBus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OIBus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/guide/">Documentation</a><a class="navbar__item navbar__link" href="/docs/developer/">Developer</a><a class="navbar__item navbar__link" href="/docs/use-cases/">Use cases</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/guide/">v3</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/guide/south-connectors/mqtt">v3</a></li><li><a class="dropdown__link" href="/docs/v2/guide/south-connectors/mqtt">v2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/guide/south-connectors/mqtt" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/docs/guide/south-connectors/mqtt" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li></ul></div><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guide/">Main concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/installation">Installation</a><button aria-label="Expand sidebar category &#x27;Installation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/engine">Engine</a><button aria-label="Expand sidebar category &#x27;Engine&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/north-connectors">North connectors</a><button aria-label="Expand sidebar category &#x27;North connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/south-connectors">South connectors</a><button aria-label="Collapse sidebar category &#x27;South connectors&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/common-settings">Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/folder-scanner">Folder Scanner</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/opcua">OPCUA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/mssql">Microsoft SQL Server (MSSQL)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/modbus">Modbus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/sqlite">SQLite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/guide/south-connectors/mqtt">MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/postgresql">PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/ads">ADS - TwinCAT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/mysql">MySQL / MariaDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/opc-hda">OPCHDA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/oracle">Oracle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/slims">SLIM (Rest API)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/oianalytics">OIAnalytics (Rest API)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/odbc">ODBC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/oledb">OLEDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide/south-connectors/osisoft-pi">OSIsoft PI</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/guide/history-queries">History queries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/advanced">Advanced</a><button aria-label="Expand sidebar category &#x27;Advanced&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/oibus-agent">OIBus Agent</a><button aria-label="Expand sidebar category &#x27;OIBus Agent&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/south-connectors"><span itemprop="name">South connectors</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MQTT</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MQTT</h1>
<p>MQTT (Message Queuing Telemetry Transport) is a protocol designed for real-time messaging and data exchange using a
publish/subscribe model. In MQTT, data is organized into topics, and clients can publish or subscribe to these topics to
exchange information.</p>
<p>The MQTT protocol consists of two primary components:</p>
<ul>
<li><strong>MQTT Broker</strong>: This acts as the server and is responsible for collecting and distributing data. It manages the topics
and facilitates communication between clients.</li>
<li><strong>MQTT Client</strong>: Clients can publish data to a broker by specifying a topic, and they can also subscribe to topics to
receive data from the broker.</li>
</ul>
<p>OIBus functions as an MQTT client and utilizes the <a href="https://github.com/mqttjs/MQTT.js" target="_blank" rel="noopener noreferrer">MQTT.js</a> library to interact with
MQTT brokers for data exchange.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="specific-settings">Specific settings<a href="#specific-settings" class="hash-link" aria-label="Direct link to Specific settings" title="Direct link to Specific settings">​</a></h2>
<p>MQTT is a versatile protocol for exchanging data, and OIBus provides various configuration options to tailor its behavior
to your needs. Here are some of the key configuration parameters for MQTT connections in OIBus:</p>
<ul>
<li><strong>URL</strong>: This specifies the address of the MQTT broker, typically in the format <code>mqtt://address:port</code>. The default MQTT
port is 1883, but it may vary depending on the broker&#x27;s configuration.</li>
<li><strong>Quality of Service</strong> (QoS): MQTT offers three levels of QoS for message delivery:<!-- -->
<ul>
<li>QoS 0: At most once. Messages are sent once, but there&#x27;s no guarantee of successful receipt.</li>
<li>QoS 1: At least once. Messages are sent multiple times until the recipient acknowledges receipt. Some duplicates may
occur.</li>
<li>QoS 2: Exactly once. Messages are sent only once, and retries are attempted until the recipient confirms successful
receipt. No duplicates are expected.</li>
</ul>
</li>
<li><strong>Persistence</strong>: QoS 1 and QoS 2 allow for persistent connections. This means that the broker can retain a certain number
of messages in memory until the client reconnects, ensuring that no data is lost in case of connection interruptions.</li>
<li><strong>Authentication</strong>:<!-- -->
<ul>
<li>None: No authentication is required.</li>
<li>Basic: Authenticate using a username and password.</li>
<li>Certificate: Authenticate using certificates.<!-- -->
<ul>
<li>Cert file path: Path to the signed certificate file used to authenticate OIBus with the broker.</li>
<li>Key file path: Path to the key file used to sign the certificate.</li>
<li>CA file path: Path to the certificate authority file used to generate the certificate. If empty, the certificate is considered self-signed.</li>
</ul>
</li>
</ul>
</li>
<li><strong>Reject unauthorized connection</strong>: Decide whether to reject connections that cannot be verified, such as those with
self-signed certificates from the broker.</li>
<li><strong>Reconnect period</strong>: The time to wait before attempting to reconnect the socket in case of a connection loss.</li>
<li><strong>Connect timeout</strong>: The maximum time to wait for a connection to be established before it is considered a failure.</li>
</ul>
<p>These configuration options provide flexibility in setting up MQTT connections in OIBus to suit your specific requirements
and security needs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="item-settings">Item settings<a href="#item-settings" class="hash-link" aria-label="Direct link to Item settings" title="Direct link to Item settings">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="address-space-and-topic">Address space and topic<a href="#address-space-and-topic" class="hash-link" aria-label="Direct link to Address space and topic" title="Direct link to Address space and topic">​</a></h3>
<p>MQTT connectors in OIBus use a subscription-based approach, which means there&#x27;s no need to set scan modes for these items.
Instead, you specify the topics you want to subscribe to, and the MQTT connector retrieves data published to those topics
by the broker.</p>
<p>Topics in MQTT are structured hierarchically, organized in a tree-like structure. Topics are used to address specific
data points or information within the MQTT broker&#x27;s address space.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Topic structure example</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">France</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | -&gt; Paris</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | -&gt; temperatureTank1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | -&gt; temperatureTank2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    | -&gt; Chambery</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | -&gt; temperatureTank1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        | -&gt; temperatureTank2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When you subscribe to a dataset in MQTT, you can use wildcard characters to specify the topics you&#x27;re interested in.
Here are some examples:</p>
<ul>
<li>Using # (hash) as a wildcard:<!-- -->
<ul>
<li>France/# will subscribe to all topics under the &quot;France&quot; branch, including all subtopics and their data points.</li>
<li>France/Chambery/# will subscribe to all topics under &quot;France/Chambery,&quot; including all subtopics and data points specific to Chambery.</li>
</ul>
</li>
<li>Using specific topic paths:<!-- -->
<ul>
<li>France/Paris/temperatureTank1 will subscribe to only the data point &quot;temperatureTank1&quot; in the &quot;France/Paris&quot; branch.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="payload-and-timestamp">Payload and timestamp<a href="#payload-and-timestamp" class="hash-link" aria-label="Direct link to Payload and timestamp" title="Direct link to Payload and timestamp">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-types">Data types<a href="#data-types" class="hash-link" aria-label="Direct link to Data types" title="Direct link to Data types">​</a></h3>
<p>When you subscribe to an MQTT topic and receive a payload, the payload can contain various types of data, such as numbers,
strings, or JSON objects. Depending on the type of data you receive, you may need to parse the payload to extract the
information you want to store in OIBus North caches.</p>
<p>Here are some common scenarios for parsing MQTT payloads:</p>
<ul>
<li><strong>Number</strong>: If the payload contains a single numeric value, you can parse it directly as a number and store it in
North caches. For example, if you receive a payload like <code>25.5</code>, you can parse it as a floating-point number and store
it as a numeric data point.</li>
<li><strong>String</strong>: If the payload is a string, you can store it as-is in North caches. For example, if you receive a payload
like <code>Hello, MQTT!</code>, you can store it as a string data point.</li>
<li><strong>JSON</strong>: If the payload is a JSON object, you&#x27;ll need to specify the payload format it to extract the relevant data
fields.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="json-object">JSON object<a href="#json-object" class="hash-link" aria-label="Direct link to JSON object" title="Direct link to JSON object">​</a></h4>
<p>Below is a JSON payload format example where data must be extracted.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">JSON payload format example</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;pointId&quot;: &quot;point1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;value&quot;: &quot;666.666&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;timestamp&quot;: &quot;2020-02-02 02:02:02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;quality&quot;: &quot;true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then the following configuration must be applied:</p>
<ul>
<li><strong>Payload in array</strong>: <em>false</em></li>
<li><strong>Point ID origin</strong>: <em>payload</em> (it will override the name of the item as reference)</li>
<li><strong>Timestamp origin</strong>: <em>payload</em></li>
<li><strong>Value path</strong>: <em>value</em></li>
<li><strong>Point ID path</strong>: <em>pointId</em></li>
<li><strong>Timestamp path</strong>: <em>timestamp</em></li>
<li><strong>Type</strong>: <em>String</em></li>
<li><strong>Timezone</strong>: <em>UTC</em> (if the broker is in UTC timezone)</li>
<li><strong>Timestamp format</strong>: <em>yyyy-MM-dd HH:mm:ss</em></li>
</ul>
<p>You can retrieve additional fields, such as the quality field, by clicking on the <code>+</code> button on the last section.</p>
<ul>
<li><strong>Field name in output</strong>: <em>quality</em></li>
<li><strong>Path in the retrieved payload</strong>: <em>quality</em></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="json-array">JSON array<a href="#json-array" class="hash-link" aria-label="Direct link to JSON array" title="Direct link to JSON array">​</a></h4>
<p>Below is another example with an array.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">JSON payload with array format example</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;metrics&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;customValue&quot;: &quot;666.666&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;customTimestamp&quot;: &quot;2020-02-02 02:02:02&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;customQuality&quot;: &quot;true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then the following configuration must be applied:</p>
<ul>
<li><strong>Values in array</strong>: <em>true</em></li>
<li><strong>Array path</strong>: <em>metrics</em></li>
<li><strong>Point ID origin</strong>: <em>oibus</em> (the name of the item will be taken as point ID reference)</li>
<li><strong>Timestamp origin</strong>: <em>payload</em></li>
<li><strong>Value path</strong>: <em>customValue</em></li>
<li><strong>Timestamp path</strong>: <em>customTimestamp</em></li>
<li><strong>Type</strong>: <em>String</em></li>
<li><strong>Timezone</strong>: <em>UTC</em> (if the broker is in UTC timezone)</li>
<li><strong>Timestamp format</strong>: <em>yyyy-MM-dd HH:mm:ss</em></li>
</ul>
<p>Here, the quality field can be added with:</p>
<ul>
<li><strong>Field name in output</strong>: <em>quality</em></li>
<li><strong>Path in the retrieved payload</strong>: <em>customQuality</em></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp">Timestamp<a href="#timestamp" class="hash-link" aria-label="Direct link to Timestamp" title="Direct link to Timestamp">​</a></h3>
<p>You can either extract the timestamp from the payload or you can use the current UTC timestamp provided by OIBus. The
choice between these two approaches depends on how timestamps are provided by your MQTT source. OIBus allows you to
configure these options to suit your data source&#x27;s requirements.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="current-oibus-timestamp">Current OIBus Timestamp<a href="#current-oibus-timestamp" class="hash-link" aria-label="Direct link to Current OIBus Timestamp" title="Direct link to Current OIBus Timestamp">​</a></h4>
<p>If the MQTT payload doesn&#x27;t contain a timestamp or if you prefer to use the current timestamp from OIBus, you can
configure OIBus to use the current UTC timestamp. In this case, OIBus will automatically generate a UTC timestamp when
processing the MQTT payload, and you don&#x27;t need to extract it from the payload.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="timestamp-in-payload">Timestamp in Payload<a href="#timestamp-in-payload" class="hash-link" aria-label="Direct link to Timestamp in Payload" title="Direct link to Timestamp in Payload">​</a></h4>
<p>Alternatively, if the MQTT payload contains a timestamp, specify the <strong>Timestamp path</strong> to retrieve it and specify its
type (String, ISO8601, UNIX Epoch (s) or UNIX Epoch (ms)). String timestamp can be parsed with the specified<strong>timezone</strong>
and <strong>timestamp format</strong>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/guide/south-connectors/sqlite"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SQLite</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/guide/south-connectors/postgresql"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">PostgreSQL</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#specific-settings" class="table-of-contents__link toc-highlight">Specific settings</a></li><li><a href="#item-settings" class="table-of-contents__link toc-highlight">Item settings</a><ul><li><a href="#address-space-and-topic" class="table-of-contents__link toc-highlight">Address space and topic</a></li></ul></li><li><a href="#payload-and-timestamp" class="table-of-contents__link toc-highlight">Payload and timestamp</a><ul><li><a href="#data-types" class="table-of-contents__link toc-highlight">Data types</a></li><li><a href="#timestamp" class="table-of-contents__link toc-highlight">Timestamp</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guide/">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/developer/">Developer Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/use-cases/">Use cases</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/showcase/oibus-by-optimistik" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/OptimistikSAS/OIBus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Optimistik. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>