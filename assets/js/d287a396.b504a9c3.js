"use strict";(globalThis.webpackChunkdoc_oibus=globalThis.webpackChunkdoc_oibus||[]).push([[7419],{9737:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>d,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"guide/south-connectors/osisoft-pi","title":"OSIsoft PI System\u2122","description":"Connect to OSIsoft PI System\u2122 for industrial data collection and visualization using OIBus with the embedded PI driver in OIBus Agent.","source":"@site/docs/guide/south-connectors/osisoft-pi.mdx","sourceDirName":"guide/south-connectors","slug":"/guide/south-connectors/osisoft-pi","permalink":"/docs/guide/south-connectors/osisoft-pi","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"guideSidebar","previous":{"title":"Oracle Database\u2122","permalink":"/docs/guide/south-connectors/oracle"},"next":{"title":"PostgreSQL","permalink":"/docs/guide/south-connectors/postgresql"}}');var t=i(74848),r=i(28453),l=i(73937);const d={},o="OSIsoft PI System\u2122",c={},a=[{value:"Connection Settings",id:"connection-settings",level:2},...l.RM,{value:"Item Configuration",id:"item-configuration",level:2},{value:"Point Access Methods",id:"point-access-methods",level:3},{value:"OSIsoft PI SDK Configuration",id:"osisoft-pi-sdk-configuration",level:2},{value:"Installation Requirements",id:"installation-requirements",level:3},{value:"User Configuration",id:"user-configuration",level:3},{value:"Trust Configuration",id:"trust-configuration",level:3},{value:"Mapping Configuration",id:"mapping-configuration",level:3},{value:"Configuration Screenshots",id:"configuration-screenshots",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"osisoft-pi-system",children:"OSIsoft PI System\u2122"})}),"\n",(0,t.jsxs)(n.p,{children:["Connect to OSIsoft PI System\u2122 for industrial data collection and visualization using OIBus with the embedded PI driver in ",(0,t.jsx)(n.a,{href:"/docs/guide/oibus-agent/installation",children:"OIBus Agent"}),"."]}),"\n",(0,t.jsx)(n.admonition,{title:"System Requirements",type:"caution",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["OIBus Agent ",(0,t.jsx)(n.strong,{children:"must"})," be installed on a Windows machine"]}),"\n",(0,t.jsxs)(n.li,{children:["Can be installed on PI Server machine or separate machine with ",(0,t.jsx)(n.a,{href:"#osisoft-pi-sdk-configuration",children:"PI SDK configured"})]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"connection-settings",children:"Connection Settings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Setting"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Default Value"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Remote agent URL"}),(0,t.jsxs)(n.td,{children:["Agent endpoint (e.g., ",(0,t.jsx)(n.code,{children:"http://host:2224"}),")"]}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"Required for all connections"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Retry interval"}),(0,t.jsx)(n.td,{children:"Time (ms) to wait before retrying connection"}),(0,t.jsx)(n.td,{children:"10000"}),(0,t.jsx)(n.td,{children:"Recommended: 5000-15000ms"})]})]})]}),"\n",(0,t.jsx)(l.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"item-configuration",children:"Item Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"point-access-methods",children:"Point Access Methods"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Setting"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Example Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Type"}),(0,t.jsxs)(n.td,{children:["Access method: ",(0,t.jsx)(n.code,{children:"pointId"})," (single point) or ",(0,t.jsx)(n.code,{children:"pointQuery"})," (multiple points)"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"pointId"})," or ",(0,t.jsx)(n.code,{children:"pointQuery"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Point ID"}),(0,t.jsx)(n.td,{children:"Fully qualified point ID (without server name)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"\\\\CDT158\\SINUSOID"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Point Query"}),(0,t.jsxs)(n.td,{children:["Query selector for multiple points (see ",(0,t.jsx)(n.a,{href:"https://docs.aveva.com/bundle/af-sdk/page/html/pipoint-query-syntax-overview.htm",children:"PI Point Query Syntax"}),")"]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Name:='SINUSOID'"})})]})]})]}),"\n",(0,t.jsx)(n.admonition,{title:"Reference Names",type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.code,{children:"pointId"}),": Item name serves as reference in JSON payloads"]}),"\n",(0,t.jsxs)(n.li,{children:["For ",(0,t.jsx)(n.code,{children:"pointQuery"}),": PI name is used as reference"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"osisoft-pi-sdk-configuration",children:"OSIsoft PI SDK Configuration"}),"\n",(0,t.jsx)(n.h3,{id:"installation-requirements",children:"Installation Requirements"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Install PI SDK on agent machine"}),"\n",(0,t.jsx)(n.li,{children:"During installation, specify default data server"}),"\n",(0,t.jsx)(n.li,{children:"If installing remotely:"}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"PI SDK must be properly configured"}),"\n",(0,t.jsx)(n.li,{children:"PI System Access (PSA) must be installed"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"user-configuration",children:"User Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Create domain user account (accessible from both machines)"}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"If domain doesn't exist, create identical local users with same password"}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"Configure OIBus Agent service to run as this user"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"trust-configuration",children:"Trust Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open PI System Management Tools"}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.code,{children:"Mapping & Trusts"})," \u2192 ",(0,t.jsx)(n.code,{children:"Trusts"})," tab"]}),"\n",(0,t.jsx)(n.li,{children:"Create new trust with:"}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"OIBus Agent machine IP and Net Mask"}),"\n",(0,t.jsx)(n.li,{children:"Domain (if applicable)"}),"\n",(0,t.jsx)(n.li,{children:"PI Identity to connect with"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"mapping-configuration",children:"Mapping Configuration"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"In PI System Management Tools"}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.code,{children:"Mapping & Trusts"})," \u2192 ",(0,t.jsx)(n.code,{children:"Mappings"})," tab"]}),"\n",(0,t.jsx)(n.li,{children:"Create new mapping with:"}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"OIBus Agent service user"}),"\n",(0,t.jsx)(n.li,{children:"PI Identity from trust configuration"}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{title:"Log Access",type:"tip",children:(0,t.jsxs)(n.p,{children:["View system logs in PI System Management Tools:\n",(0,t.jsx)(n.code,{children:"Operation"})," \u2192 ",(0,t.jsx)(n.code,{children:"Messages Logs"})]})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-screenshots",children:"Configuration Screenshots"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SDK Installation"}),":\n",(0,t.jsx)(n.img,{alt:"PI SDK installation",src:i(34912).A+"",width:"497",height:"477"}),"\n",(0,t.jsx)(n.em,{children:"Specify default data server during installation"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Trust Configuration"}),":\n",(0,t.jsx)(n.img,{alt:"PI SDK add trust",src:i(87327).A+"",width:"398",height:"558"}),"\n",(0,t.jsx)(n.em,{children:"Configure trust for agent machine"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Trust List"}),":\n",(0,t.jsx)(n.img,{alt:"PI SDK list trust",src:i(77457).A+"",width:"1562",height:"807"}),"\n",(0,t.jsx)(n.em,{children:"Verified trust configuration"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Mapping Creation"}),":\n",(0,t.jsx)(n.img,{alt:"PI SDK add mapping",src:i(58829).A+"",width:"452",height:"350"}),"\n",(0,t.jsx)(n.em,{children:"Map agent user to PI identity"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Mapping List"}),":\n",(0,t.jsx)(n.img,{alt:"PI SDK list trust",src:i(62443).A+"",width:"909",height:"300"}),"\n",(0,t.jsx)(n.em,{children:"Verified user mapping"})]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>d});var s=i(96540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}},34912:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/0-installation-e46e308c4fbb7742f2d6582692ded0f6.png"},58829:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/3-add-mapping-044cce38265cb93af407f53587ced15f.png"},62443:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/4-mapping-list-430eb3b249d24ba972140249b8c7939d.png"},73937:(e,n,i)=>{i.d(n,{Ay:()=>d,RM:()=>r});var s=i(74848),t=i(28453);const r=[{value:"Throttling Settings",id:"throttling-settings",level:3},{value:"Key Throttling Parameters",id:"key-throttling-parameters",level:4},{value:"How Throttling Works",id:"how-throttling-works",level:4},{value:"Recommended Configurations",id:"recommended-configurations",level:3}];function l(e){const n={admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"throttling-settings",children:"Throttling Settings"}),"\n",(0,s.jsx)(n.p,{children:"You can optimize data requests using throttling configurations. These settings help manage large data intervals and network conditions effectively."}),"\n",(0,s.jsx)(n.h4,{id:"key-throttling-parameters",children:"Key Throttling Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Data Type"}),(0,s.jsx)(n.th,{children:"Example Value"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Max read interval"}),(0,s.jsx)(n.td,{children:"Maximum duration (in seconds) for each data request interval. Larger intervals are automatically divided into smaller chunks not exceeding this value."}),(0,s.jsx)(n.td,{children:"Seconds"}),(0,s.jsx)(n.td,{children:"3600"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Read delay"}),(0,s.jsx)(n.td,{children:"Delay (in milliseconds) between consecutive data requests. Helps prevent server overload."}),(0,s.jsx)(n.td,{children:"Milliseconds"}),(0,s.jsx)(n.td,{children:"1000"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Overlap"}),(0,s.jsxs)(n.td,{children:["Time overlap (in milliseconds) between consecutive queries to ensure data continuity. This value is subtracted from the ",(0,s.jsx)(n.code,{children:"@StartTime"})," of the next query."]}),(0,s.jsx)(n.td,{children:"Milliseconds"}),(0,s.jsx)(n.td,{children:"60000"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"how-throttling-works",children:"How Throttling Works"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Interval Division"}),":"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Large time ranges are automatically split into smaller intervals"}),"\n",(0,s.jsxs)(n.li,{children:["Each sub-interval does not exceed the ",(0,s.jsx)(n.code,{children:"Max read interval"})," duration"]}),"\n",(0,s.jsxs)(n.li,{children:["Example: A 24-hour request with ",(0,s.jsx)(n.code,{children:"Max read interval = 3600"})," (1 hour) will be split into 24 separate 1-hour requests"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Request Timing"}),":"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"Read delay"})," introduces a pause between consecutive requests"]}),"\n",(0,s.jsx)(n.li,{children:"Helps manage server load and prevents rate limiting"}),"\n",(0,s.jsx)(n.li,{children:"Particularly useful during network instability or when querying large datasets"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Continuity"}),":"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"Overlap"})," setting ensures no gaps in your data"]}),"\n",(0,s.jsx)(n.li,{children:"Creates a time buffer between consecutive queries"}),"\n",(0,s.jsxs)(n.li,{children:["Example: With ",(0,s.jsx)(n.code,{children:"Overlap = 60000"})," (1 minute), each query will include 1 minute of overlapping data with the previous query"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"Overlap Functionality",type:"info",children:[(0,s.jsxs)(n.p,{children:["The overlap setting modifies the ",(0,s.jsx)(n.code,{children:"@StartTime"})," of each query by subtracting the overlap value from the calculated start time. This adjustment applies to the entire query range, not to individual sub-intervals when large requests are split into smaller chunks."]}),(0,s.jsx)(n.p,{children:"This functionality is particularly useful when:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"New data is ingested after previous queries have executed"}),"\n",(0,s.jsx)(n.li,{children:"You need to account for potential ingestion delays in the source system"}),"\n"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example"}),":\nWith ",(0,s.jsx)(n.code,{children:"overlap=60000"})," (1 minute), a query for the interval ",(0,s.jsx)(n.code,{children:"[10:00-11:00]"})," will actually request ",(0,s.jsx)(n.code,{children:"[9:59-11:00]"}),", ensuring capture of any late-arriving data from the previous time period."]})]}),"\n",(0,s.jsx)(n.h3,{id:"recommended-configurations",children:"Recommended Configurations"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Scenario"}),(0,s.jsx)(n.th,{children:"Max read interval"}),(0,s.jsx)(n.th,{children:"Read delay"}),(0,s.jsx)(n.th,{children:"Overlap"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Stable network, small datasets"}),(0,s.jsx)(n.td,{children:"3600 (1 hour)"}),(0,s.jsx)(n.td,{children:"500"}),(0,s.jsx)(n.td,{children:"0 (no overlap)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Unstable network"}),(0,s.jsx)(n.td,{children:"1800 (30 min)"}),(0,s.jsx)(n.td,{children:"2000"}),(0,s.jsx)(n.td,{children:"0 (no overlap)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Large historical retrievals"}),(0,s.jsx)(n.td,{children:"7200 (2 hours)"}),(0,s.jsx)(n.td,{children:"1000"}),(0,s.jsx)(n.td,{children:"0 (no overlap)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Real-time with occasional gaps"}),(0,s.jsx)(n.td,{children:"900 (15 min)"}),(0,s.jsx)(n.td,{children:"200"}),(0,s.jsx)(n.td,{children:"15000 (15 sec)"})]})]})]})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},77457:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/2-trust-list-00b6203bcdae456c6559eb549f4adf28.png"},87327:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/1-add-trust-5e7c781541059487c64fb8e73c06f090.png"}}]);