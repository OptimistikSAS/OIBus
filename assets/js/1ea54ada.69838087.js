"use strict";(globalThis.webpackChunkdoc_oibus=globalThis.webpackChunkdoc_oibus||[]).push([[6451],{2082:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>j,frontMatter:()=>d,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"guide/advanced/oibus-data-rate","title":"Data Rate and Cache Sizing","description":"OIBus transmits data to target applications using two primary methods:","source":"@site/docs/guide/advanced/oibus-data-rate.mdx","sourceDirName":"guide/advanced","slug":"/guide/advanced/oibus-data-rate","permalink":"/docs/guide/advanced/oibus-data-rate","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"guideSidebar","previous":{"title":"OIBus Security","permalink":"/docs/guide/advanced/oibus-security"},"next":{"title":"OIBus Agent","permalink":"/docs/category/oibus-agent"}}');var i=n(74848),r=n(28453),l=n(96540);const a=()=>{const[e,s]=(0,l.useState)(1),[n,t]=(0,l.useState)(30),[r,a]=(0,l.useState)(50),[d,o]=(0,l.useState)(1),[c,h]=(0,l.useState)(null),x=106,j=38;return(0,i.jsxs)("div",{style:{margin:"20px 0",padding:"15px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,i.jsx)("h4",{children:"Throughput & Cache Comparison"}),(0,i.jsx)("div",{style:{marginBottom:"10px"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"5px"},children:["Data Points per Second:",(0,i.jsx)("input",{type:"number",value:e,onChange:e=>s(parseFloat(e.target.value)||0),min:"0",step:"0.1",style:{padding:"8px",width:"300px",marginLeft:"10px"}})]})}),(0,i.jsx)("div",{style:{marginBottom:"10px"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"5px"},children:["Safety Buffer (%):",(0,i.jsx)("input",{type:"number",value:n,onChange:e=>t(parseInt(e.target.value)||0),min:"0",max:"200",style:{padding:"8px",width:"300px",marginLeft:"45px"}})]})}),(0,i.jsx)("div",{style:{marginBottom:"10px"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"5px"},children:["Network Buffer (%):",(0,i.jsx)("input",{type:"number",value:r,onChange:e=>a(parseInt(e.target.value)||0),min:"0",max:"200",style:{padding:"8px",width:"300px",marginLeft:"45px"}})]})}),(0,i.jsx)("div",{style:{marginBottom:"10px"},children:(0,i.jsxs)("label",{style:{display:"block",marginBottom:"5px"},children:["Network Failure Duration (hours):",(0,i.jsx)("input",{type:"number",value:d,onChange:e=>o(parseFloat(e.target.value)||0),min:"0",step:"0.1",style:{padding:"8px",width:"300px",marginLeft:"10px"}})]})}),(0,i.jsx)("button",{onClick:()=>{const s=x,t=j,i=e*s,l=e*t,a=(1+n/100)*(1+r/100),o=i*a,c=l*a,u=3600*d,m=o*u,p=c*u;h({jsonBase:i.toFixed(2),csvBase:l.toFixed(2),jsonBuffered:o.toFixed(2),csvBuffered:c.toFixed(2),jsonSize:s,csvSize:t,multiplier:a,jsonFailureCache:m,csvFailureCache:p,failureHours:d})},style:{padding:"8px 16px",backgroundColor:"#0070f3",color:"white",border:"none",borderRadius:"4px"},children:"Calculate"}),c&&(0,i.jsxs)("div",{style:{marginTop:"10px"},children:[(0,i.jsx)("h4",{children:"Results:"}),(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsx)("strong",{children:"Throughput Comparison:"}),(0,i.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,i.jsxs)("div",{children:["JSON: ",c.jsonBuffered," bytes/sec (\u2248 ",Math.ceil(60*parseFloat(c.jsonBuffered)/1024)," KB/min)"]}),(0,i.jsxs)("div",{children:["CSV: ",c.csvBuffered," bytes/sec (\u2248 ",Math.ceil(60*parseFloat(c.csvBuffered)/1024)," KB/min)"]}),(0,i.jsxs)("div",{children:["CSV is ",((c.jsonSize-c.csvSize)/c.jsonSize*100).toFixed(1),"% more efficient"]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,i.jsxs)("strong",{children:["Cache Requirements for ",c.failureHours," hour failure:"]}),(0,i.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:[(0,i.jsxs)("div",{children:["JSON: ",(c.jsonFailureCache/1024/1024).toFixed(2)," MB"]}),(0,i.jsxs)("div",{children:["CSV: ",(c.csvFailureCache/1024/1024).toFixed(2)," MB"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:"Recommendation:"}),(0,i.jsxs)("div",{style:{marginLeft:"20px",marginTop:"5px"},children:["Configure cache to at least ",(Math.max(c.jsonFailureCache,c.csvFailureCache)/1024/1024).toFixed(2)," MB"]})]})]})]})},d={sidebar_position:3},o="Data Rate and Cache Sizing",c={},h=[{value:"Transmission Methods",id:"transmission-methods",level:2},{value:"CSV Format Estimations",id:"csv-format-estimations",level:2},{value:"1. Row Format",id:"1-row-format",level:3},{value:"2. Column Format",id:"2-column-format",level:3},{value:"3. Column-Row Format",id:"3-column-row-format",level:3},{value:"JSON Payload Estimation",id:"json-payload-estimation",level:2},{value:"Format Example",id:"format-example",level:3},{value:"Data Flow Comparison",id:"data-flow-comparison",level:2}];function x(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"data-rate-and-cache-sizing",children:"Data Rate and Cache Sizing"})}),"\n",(0,i.jsx)(s.p,{children:"OIBus transmits data to target applications using two primary methods:"}),"\n",(0,i.jsx)(s.h2,{id:"transmission-methods",children:"Transmission Methods"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Method"}),(0,i.jsx)(s.th,{children:"Description"}),(0,i.jsx)(s.th,{children:"Use Cases"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"File Endpoint"}),(0,i.jsx)(s.td,{children:"Data stored in CSV files"}),(0,i.jsx)(s.td,{children:"Batch processing, large datasets"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"JSON Payloads"}),(0,i.jsx)(s.td,{children:"Structured JSON objects"}),(0,i.jsx)(s.td,{children:"Real-time systems, APIs"})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"csv-format-estimations",children:"CSV Format Estimations"}),"\n",(0,i.jsx)(s.h3,{id:"1-row-format",children:"1. Row Format"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Timestamp,Reference,Value\n2020-02-01T20:04:00.000Z,Data001,12.0\n2020-02-01T20:04:00.000Z,Data002,10.0\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Size Calculation"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Timestamp: 24 bytes"}),"\n",(0,i.jsx)(s.li,{children:"Reference: 7 bytes"}),"\n",(0,i.jsx)(s.li,{children:"Value: 4 bytes"}),"\n",(0,i.jsxs)(s.li,{children:["Separators: 3 bytes","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Total per row"}),": 38 bytes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Hourly estimate"}),": 60 points \xd7 38 bytes = 2,280 bytes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"With 2 files/hour"}),": ~4,560 bytes/hour"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"2-column-format",children:"2. Column Format"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Timestamp,Data001,Data002,Data003\n2020-02-01T20:04:00.000Z,12.0,10.0,10.0\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Size Calculation"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Timestamp: 24 bytes"}),"\n",(0,i.jsx)(s.li,{children:"Values: 3 \xd7 4 bytes = 12 bytes"}),"\n",(0,i.jsxs)(s.li,{children:["Separators: 4 bytes","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Total per row"}),": 40 bytes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Hourly estimate"}),": 60 points \xd7 40 bytes = 2,400 bytes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"With 2 files/hour"}),": ~4,800 bytes/hour"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"3-column-row-format",children:"3. Column-Row Format"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Timestamp,Reference,001,002,003\n2020-02-01T20:04:00.000Z,Data,12.0,10.0,10.0\n"})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Size Calculation"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Timestamp: 24 bytes"}),"\n",(0,i.jsx)(s.li,{children:"Reference: 4 bytes"}),"\n",(0,i.jsx)(s.li,{children:"Values: 3 \xd7 4 bytes = 12 bytes"}),"\n",(0,i.jsxs)(s.li,{children:["Separators: 5 bytes","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Total per row"}),": 45 bytes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Hourly estimate"}),": 60 points \xd7 45 bytes = 2,700 bytes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"With 2 files/hour"}),": ~5,400 bytes/hour"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"json-payload-estimation",children:"JSON Payload Estimation"}),"\n",(0,i.jsx)(s.h3,{id:"format-example",children:"Format Example"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'[\n  {\n    "timestamp": "2020-02-01T20:04:00.000Z",\n    "pointId": "Data001",\n    "data": {\n      "value": "12.0",\n      "quality": "192"\n    }\n  }\n]\n'})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Size Breakdown"}),":"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Component"}),(0,i.jsx)(s.th,{children:"Size (bytes)"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Timestamp"}),(0,i.jsx)(s.td,{children:"39"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"pointId"}),(0,i.jsx)(s.td,{children:'20 ("Data001")'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Data object"}),(0,i.jsx)(s.td,{children:"10"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Value field"}),(0,i.jsx)(s.td,{children:'15 ("12.0")'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Quality field"}),(0,i.jsx)(s.td,{children:'16 ("192")'})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Separators"}),(0,i.jsx)(s.td,{children:"6"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"Total"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.strong,{children:"106"})})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Transmission Example"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"3 points/minute \xd7 106 bytes = 318 bytes"}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Daily estimate"}),": 318 \xd7 60 \xd7 24 = 457,920 bytes (~447KB)"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"data-flow-comparison",children:"Data Flow Comparison"}),"\n",(0,i.jsx)(s.admonition,{title:"How to Use",type:"info",children:(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Select your data format"}),"\n",(0,i.jsx)(s.li,{children:"Enter your system parameters"}),"\n",(0,i.jsx)(s.li,{children:"View estimated sizes and recommendations"}),"\n",(0,i.jsx)(s.li,{children:"Adjust buffers based on your network reliability"}),"\n"]})}),"\n",(0,i.jsx)(a,{})]})}function j(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var t=n(96540);const i={},r=t.createContext(i);function l(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);