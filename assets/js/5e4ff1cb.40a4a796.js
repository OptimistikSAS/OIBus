"use strict";(self.webpackChunkdoc_oibus=self.webpackChunkdoc_oibus||[]).push([[6603],{9843:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>l,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"guide/advanced/oibus-security","title":"OIBus security","description":"Protection of passwords and secrets","source":"@site/docs/guide/advanced/oibus-security.md","sourceDirName":"guide/advanced","slug":"/guide/advanced/oibus-security","permalink":"/docs/guide/advanced/oibus-security","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"guideSidebar","previous":{"title":"Advanced","permalink":"/docs/category/advanced"},"next":{"title":"Data rate estimation and cache sizing","permalink":"/docs/guide/advanced/oibus-data-rate"}}');var n=t(4848),a=t(8453);const r={sidebar_position:1},o="OIBus security",c={},d=[{value:"Protection of passwords and secrets",id:"protection-of-passwords-and-secrets",level:2},{value:"Login password",id:"login-password",level:3},{value:"Connector credentials",id:"connector-credentials",level:3},{value:"Exchange of secrets with OIAnalytics",id:"exchange-of-secrets-with-oianalytics",level:3},{value:"Physical security",id:"physical-security",level:2},{value:"Access to the OIBus machine",id:"access-to-the-oibus-machine",level:3},{value:"Cache size and disk overload",id:"cache-size-and-disk-overload",level:3},{value:"OIBus administration access",id:"oibus-administration-access",level:2},{value:"HTTP protocol and Basic Auth",id:"http-protocol-and-basic-auth",level:3},{value:"Using HTTPS",id:"using-https",level:3},{value:"OIBus binaries and source-code",id:"oibus-binaries-and-source-code",level:2},{value:"Security breaches on OIBus dependencies",id:"security-breaches-on-oibus-dependencies",level:3},{value:"Data source access",id:"data-source-access",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"oibus-security",children:"OIBus security"})}),"\n",(0,n.jsx)(s.h2,{id:"protection-of-passwords-and-secrets",children:"Protection of passwords and secrets"}),"\n",(0,n.jsx)(s.p,{children:"It's important to highlight that OIBus does not store user passwords in plaintext."}),"\n",(0,n.jsx)(s.h3,{id:"login-password",children:"Login password"}),"\n",(0,n.jsxs)(s.p,{children:["The admin interface login password undergoes hashing using the ",(0,n.jsx)(s.strong,{children:"argon2"})," algorithm, retaining solely the resulting\nhash. When a login attempt is made, the entered password's hash is verified against the stored hash to provide an\nadditional security layer safeguarding user credentials."]}),"\n",(0,n.jsx)(s.h3,{id:"connector-credentials",children:"Connector credentials"}),"\n",(0,n.jsx)(s.p,{children:"OIBus requires access to various sources of information, including Histories, DCS, LIMS, MES, Databases, and more. Many\nof these sources necessitate a username/password combination or a secret key for authentication."}),"\n",(0,n.jsxs)(s.p,{children:["All this sensitive information is stored within the OIBus configuration database (",(0,n.jsx)(s.code,{children:"oibus.db"}),"), but it is encrypted using\nthe AES-256 algorithm in CBC mode. This encryption provides a strong security layer, ensuring that the information\nremains unreadable in its unencrypted form."]}),"\n",(0,n.jsxs)(s.p,{children:["The AES symmetric key used for encryption is stored separately in the ",(0,n.jsx)(s.code,{children:"crypto.db"})," SQLite database. The decision to\nmaintain a separate database serves the purpose of preventing unauthorized access in case the ",(0,n.jsx)(s.code,{children:"oibus.db"})," file is shared\nfor debugging or configuration replication. By encrypting the secrets with a key stored in a separate database, it\nbecomes infeasible to access the encrypted secrets unless both database files are available together."]}),"\n",(0,n.jsxs)(s.p,{children:["It's important to note that if the ",(0,n.jsx)(s.code,{children:"crypto.db"})," SQLite database is deleted, OIBus will be unable to decrypt the encrypted\nsecrets. In such an event, a new AES key will be generated upon restarting OIBus. Consequently, it will be necessary to\nuse the administration interface to re-enter all the secrets to regain access to the encrypted data. This process\nensures the security of the secrets even in the event of a database deletion."]}),"\n",(0,n.jsx)(s.h3,{id:"exchange-of-secrets-with-oianalytics",children:"Exchange of secrets with OIAnalytics"}),"\n",(0,n.jsxs)(s.p,{children:["With a ",(0,n.jsx)(s.a,{href:"/docs/guide/engine/oianalytics-registration",children:"OIAnalytics Registration"}),", OIBus sends its full configuration to\nOIAnalytics. In this situation, all secrets are filtered out and never leave OIBus."]}),"\n",(0,n.jsx)(s.p,{children:"OIAnalytics allows users to create or update south or north connectors, which may involve entering secrets. When a\nsecret is provided, it is encrypted using a public key. Plain text secrets are never stored on OIAnalytics. Only the\nprivate key, securely stored in OIBus, can decrypt the secrets."}),"\n",(0,n.jsxs)(s.p,{children:["The public/private key pair is generated during OIBus registration or when executing\na ",(0,n.jsx)(s.a,{href:"/docs/guide/engine/oianalytics-registration#regenerate-cipher-keys",children:"Regenerate Cipher Keys"})," command. It uses RSA-OAEP with\na key size of 4096 bits."]}),"\n",(0,n.jsx)(s.h2,{id:"physical-security",children:"Physical security"}),"\n",(0,n.jsxs)(s.p,{children:["Typically, OIBus is installed on a dedicated machine, which can also be a virtual machine, situated at the customer's\nsite.\nThe behavior of OIBus is entirely controlled through the OIBus configuration SQLite database (",(0,n.jsx)(s.code,{children:"oibus.db"}),"). It is crucial\nto take into account various factors to safeguard OIBus, including:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Controlling access to the machine."}),"\n",(0,n.jsx)(s.li,{children:"Managing access to the OIBus administration interface."}),"\n",(0,n.jsx)(s.li,{children:"Ensuring the security of sensitive information such as passwords and secret keys."}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"access-to-the-oibus-machine",children:"Access to the OIBus machine"}),"\n",(0,n.jsx)(s.p,{children:"It is imperative to restrict access to the OIBus machine in such a way that only the designated OIBus administrator can\ngain access, thus preventing unauthorized individuals from reaching it."}),"\n",(0,n.jsx)(s.p,{children:"Certainly, local or remote access to the machine where OIBus is installed poses a significant risk. For instance, using\nmethods like RDP (Remote Desktop Protocol) or disk sharing could potentially enable a local user to delete OIBus files\nor directly tamper with the configuration file."}),"\n",(0,n.jsx)(s.h3,{id:"cache-size-and-disk-overload",children:"Cache size and disk overload"}),"\n",(0,n.jsx)(s.p,{children:"OIBus software maintains a cache for collected data to ensure data can still be transmitted in case of a communication\nloss with the OIAnalytics application or other North connectors."}),"\n",(0,n.jsx)(s.p,{children:"It is possible to configure the cache settings of North connectors to prevent disk overload."}),"\n",(0,n.jsx)(s.h2,{id:"oibus-administration-access",children:"OIBus administration access"}),"\n",(0,n.jsxs)(s.p,{children:["The OIBus administration interface is web-based and can be accessed either locally or from any remote PC with a web\nbrowser.\nIt is advisable to utilize the interface locally by accessing it through the URL ",(0,n.jsx)(s.a,{href:"http://localhost:2223",children:"http://localhost:2223"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["For remote access, it is necessary to configure the ",(0,n.jsx)(s.a,{href:"/docs/guide/engine/ip-filters",children:"IP Filters"})," section of the OIBus Engine."]}),"\n",(0,n.jsxs)(s.p,{children:["Accessing the administration interface mandates a valid user/password combination. The default username is ",(0,n.jsx)(s.code,{children:"admin"}),", and\nthe default password is ",(0,n.jsx)(s.code,{children:"pass"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"We strongly recommend changing the default password for enhanced security from the user settings page."}),"\n",(0,n.jsx)(s.h3,{id:"http-protocol-and-basic-auth",children:"HTTP protocol and Basic Auth"}),"\n",(0,n.jsx)(s.p,{children:"OIBus employs the Basic Auth method in conjunction with the widely supported HTTP protocol in most web browsers.\nHowever, it's important to note that this method does not offer any encryption for the credentials transmitted in the\nheader with each HTTP request."}),"\n",(0,n.jsx)(s.p,{children:"To address this potential vulnerability, the OIBus Engine includes IP filters that can help mitigate the risk by\nrestricting access to specific IP addresses. Nevertheless, this approach is not foolproof, as hackers can easily\nimpersonate other computer systems by using fake IP addresses. Additionally, it's crucial to ensure the privacy of the\nnetwork through which the HTTP requests pass to prevent credential leaks."}),"\n",(0,n.jsx)(s.p,{children:"For this reason, it is advisable to limit remote access to the OIBus administration interface to within the customer's\nlocal area network (LAN) and not expose it to the Internet. The use of a Virtual Private Network (VPN) is strongly\nrecommended for added security."}),"\n",(0,n.jsx)(s.h3,{id:"using-https",children:"Using HTTPS"}),"\n",(0,n.jsx)(s.p,{children:"To implement HTTPS for OIBus, you can establish it through a reverse proxy positioned in front of OIBus, such as nginx\nor Apache. By doing so, you can direct HTTPS queries to the HTTPS server, which will subsequently redirect them to the\nOIBus HTTP server."}),"\n",(0,n.jsx)(s.p,{children:"This setup enhances the security of OIBus communication by encrypting data transmitted over the network (if HTTPS is\ncorrectly set up). It ensures that sensitive information, including credentials, remains confidential during\ntransmission and minimizes the risk of interception or unauthorized access."}),"\n",(0,n.jsx)(s.h2,{id:"oibus-binaries-and-source-code",children:"OIBus binaries and source-code"}),"\n",(0,n.jsx)(s.p,{children:"OIBus binaries are generated through the Continuous Integration tool of GitHub: GitHub Actions. Each official release is\ntriggered by Optimistik team and accessible through the official website."}),"\n",(0,n.jsx)(s.p,{children:"As an open-source project, customers also have the option to compile an executable from the source code to have their\nown OIBus version."}),"\n",(0,n.jsx)(s.h3,{id:"security-breaches-on-oibus-dependencies",children:"Security breaches on OIBus dependencies"}),"\n",(0,n.jsx)(s.p,{children:"The OIBus source code is open-source and accessible to the public on GitHub. We have integrated a GitHub bot,\ndependabot, to monitor OIBus dependencies and alert us to any security breaches."}),"\n",(0,n.jsx)(s.p,{children:"Upon receiving an alert, Optimistik takes appropriate actions, such as:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Updating the dependency when a security fix is available"}),"\n",(0,n.jsx)(s.li,{children:"Implementing a workaround with an alternative dependency"}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"As an open-source project, every line of code added to OIBus undergoes review by the Optimistik team to ensure it meets\nour quality and security standards before being merged."}),"\n",(0,n.jsx)(s.h2,{id:"data-source-access",children:"Data source access"}),"\n",(0,n.jsx)(s.p,{children:"To collect data, OIBus requires access to multiple data sources, some of which need authentication. For these data\nsources, it is strongly recommended to apply a least-privilege policy by creating a dedicated OIBus user with read-only\nprivileges."})]})}function l(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>o});var i=t(6540);const n={},a=i.createContext(n);function r(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);