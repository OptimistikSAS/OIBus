"use strict";(globalThis.webpackChunkdoc_oibus=globalThis.webpackChunkdoc_oibus||[]).push([[991],{28453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>c});var i=n(96540);const s={},r=i.createContext(s);function d(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:t},e.children)}},36763:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/installation-ads-distant-7d043b9c61a135e76dc689cfa7df7017.png"},54612:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/routes-9e5abc66ee07da3d17541566a90470c4.png"},87273:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"guide/south-connectors/ads","title":"TwinCAT\xae ADS","description":"The Automation Device Specification (ADS) protocol is a transport layer integrated into TwinCAT\xae systems, developed","source":"@site/docs/guide/south-connectors/ads.mdx","sourceDirName":"guide/south-connectors","slug":"/guide/south-connectors/ads","permalink":"/docs/guide/south-connectors/ads","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"guideSidebar","previous":{"title":"Common Settings","permalink":"/docs/guide/south-connectors/common-settings"},"next":{"title":"Folder Scanner","permalink":"/docs/guide/south-connectors/folder-scanner"}}');var s=n(74848),r=n(28453);const d={},c="TwinCAT\xae ADS",l={},o=[{value:"Specific Settings",id:"specific-settings",level:2},{value:"Connection",id:"connection",level:3},{value:"Local AMS Server (TwinCAT Runtime)",id:"local-ams-server-twincat-runtime",level:4},{value:"Remote AMS Server",id:"remote-ams-server",level:4},{value:"Advanced Settings",id:"advanced-settings",level:3},{value:"Structure Filtering",id:"structure-filtering",level:4},{value:"Item Settings",id:"item-settings",level:2}];function h(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"twincat-ads",children:"TwinCAT\xae ADS"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Automation Device Specification (ADS)"})," protocol is a transport layer integrated into TwinCAT\xae systems, developed\nby Beckhoff. It enables OIBus to access PLC data by uniquely identifying each data item through a distinct address in\nthe controller."]}),"\n",(0,s.jsxs)(t.p,{children:["OIBus uses the ",(0,s.jsx)(t.a,{href:"https://github.com/jisotalo/ads-client",children:"ads-client"})," library to communicate with TwinCAT\xae systems."]}),"\n",(0,s.jsx)(t.h2,{id:"specific-settings",children:"Specific Settings"}),"\n",(0,s.jsx)(t.h3,{id:"connection",children:"Connection"}),"\n",(0,s.jsx)(t.h4,{id:"local-ams-server-twincat-runtime",children:"Local AMS Server (TwinCAT Runtime)"}),"\n",(0,s.jsx)(t.p,{children:"Use this configuration if TwinCAT is installed on the same machine and network as OIBus."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Local AMS Server Settings"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Setting"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Example Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Net ID"}),(0,s.jsx)(t.td,{children:"Unique address of the PLC, resembling an IP address with two additional numeric values."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"127.0.0.1.1.1"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PLC Port"}),(0,s.jsx)(t.td,{children:"Communication endpoint for the PLC."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"851"})})]})]})]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note"}),": When using a local AMS server, you do not need to specify the Router address, Router TCP port, Client AMS\nNet ID, or Client ADS port."]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"remote-ams-server",children:"Remote AMS Server"}),"\n",(0,s.jsx)(t.p,{children:"Use this configuration if TwinCAT is installed on a remote machine."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Remote AMS Server Settings"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Setting"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Example Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Net ID"}),(0,s.jsx)(t.td,{children:"Unique address of the PLC."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"192.168.1.10.1.1"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PLC Port"}),(0,s.jsx)(t.td,{children:"Communication endpoint for the PLC."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"851"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Router Address"}),(0,s.jsx)(t.td,{children:"IP address or domain name of the AMS Router."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"192.168.1.100"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Router TCP Port"}),(0,s.jsx)(t.td,{children:"Port used by the AMS Router for communication."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"48898"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"AMS Net ID"}),(0,s.jsx)(t.td,{children:"Client identifier for connecting to the TwinCAT runtime."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"192.168.1.50.1.1"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"ADS Client Port"}),(0,s.jsx)(t.td,{children:"(Optional) Port used by the client. If left empty, the AMS server assigns a random port."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"1200"})})]})]})]}),"\n",(0,s.jsx)(t.admonition,{title:"Static Routes",type:"caution",children:(0,s.jsxs)(t.p,{children:["To enable communication, configure ",(0,s.jsx)(t.strong,{children:"Static Routes"})," using the ",(0,s.jsx)(t.em,{children:"TwinCAT Static Routes"})," tool. The\n",(0,s.jsx)(t.strong,{children:"AMS Net ID"})," specified in the tool must match the one in the OIBus configuration."]})}),"\n",(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{alt:"TwinCAT Static Routes tool",src:n(36763).A+"",width:"908",height:"492"})}),"\n",(0,s.jsx)("div",{style:{textAlign:"center"},children:(0,s.jsx)(t.img,{alt:"Add a TwinCAT Static Route",src:n(54612).A+"",width:"640",height:"485"})}),"\n",(0,s.jsx)(t.admonition,{type:"danger",children:(0,s.jsxs)(t.p,{children:["OIBus supports only ",(0,s.jsx)(t.strong,{children:"one remote ADS connector at a time"}),". To connect to multiple PLCs\nsimultaneously, use a local AMS server."]})}),"\n",(0,s.jsx)(t.h3,{id:"advanced-settings",children:"Advanced Settings"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Advanced Settings"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Setting"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Example Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Retry Interval"}),(0,s.jsx)(t.td,{children:"Time to wait (in milliseconds) before retrying the connection."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"10000"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"PLC Name"}),(0,s.jsxs)(t.td,{children:["Prefix added to each item name (e.g., ",(0,s.jsx)(t.code,{children:"PLC001.MyVariable.Value"}),"). Useful for distinguishing data from multiple PLCs in North caches or exports."]}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"PLC001."})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Enumeration Value"}),(0,s.jsx)(t.td,{children:"Choose to serialize enumerations as integers or text."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"text"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Boolean Value"}),(0,s.jsx)(t.td,{children:"Choose to serialize booleans as integers or text."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"integer"})})]})]})]}),"\n",(0,s.jsx)(t.h4,{id:"structure-filtering",children:"Structure Filtering"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Setting"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Example Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Structure Name"}),(0,s.jsx)(t.td,{children:"Name of the structure to filter."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"MyStructure"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Fields to Keep"}),(0,s.jsx)(t.td,{children:"Comma-separated list of fields to retrieve from the structure."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"MyDate,MyNumber"})})]})]})]}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example"}),": If ",(0,s.jsx)(t.code,{children:"MyVariable"})," is of type ",(0,s.jsx)(t.code,{children:"MyStructure"})," with fields ",(0,s.jsx)(t.code,{children:"MyDate"}),", ",(0,s.jsx)(t.code,{children:"MyNumber"}),", and ",(0,s.jsx)(t.code,{children:"Value"}),", filtering to keep\nonly ",(0,s.jsx)(t.code,{children:"MyDate, MyNumber"})," will generate unique point IDs:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"MyVariable.MyDate"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"MyVariable.MyNumber"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"item-settings",children:"Item Settings"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Setting"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Example Value"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Address"}),(0,s.jsx)(t.td,{children:"The PLC address of the data to query."}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"MAIN.MyVariable"})})]})})]})]})}function a(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);