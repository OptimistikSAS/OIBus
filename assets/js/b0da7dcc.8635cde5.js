"use strict";(globalThis.webpackChunkdoc_oibus=globalThis.webpackChunkdoc_oibus||[]).push([[6091],{28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var i=s(96540);const t={},r=i.createContext(t);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:n},e.children)}},50907:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"guide/south-connectors/opc","title":"OPC Classic\u2122","description":"Connect to OPC Classic\u2122 servers using OIBus with the OIBus Agent.","source":"@site/docs/guide/south-connectors/opc.mdx","sourceDirName":"guide/south-connectors","slug":"/guide/south-connectors/opc","permalink":"/docs/guide/south-connectors/opc","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"guideSidebar","previous":{"title":"OLEDB","permalink":"/docs/guide/south-connectors/oledb"},"next":{"title":"OPC UA\u2122","permalink":"/docs/guide/south-connectors/opcua"}}');var t=s(74848),r=s(28453),l=s(73937);const d={},c="OPC Classic\u2122",o={},h=[{value:"Specific Settings",id:"specific-settings",level:2},...l.RM,{value:"Item Settings",id:"item-settings",level:2},{value:"Configuration Examples",id:"configuration-examples",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"opc-classic",children:"OPC Classic\u2122"})}),"\n",(0,t.jsxs)(n.p,{children:["Connect to OPC Classic\u2122 servers using OIBus with the ",(0,t.jsx)(n.a,{href:"/docs/guide/oibus-agent/installation",children:"OIBus Agent"}),"."]}),"\n",(0,t.jsx)(n.admonition,{title:"Technology Context",type:"info",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Industrial communication protocol by ",(0,t.jsx)(n.a,{href:"https://opcfoundation.org/",children:"OPC Foundation"})]}),"\n",(0,t.jsx)(n.li,{children:"Supports both HDA and DA mode"}),"\n",(0,t.jsx)(n.li,{children:"Requires Windows-based OIBus Agent"}),"\n",(0,t.jsxs)(n.li,{children:["For OPC UA, see ",(0,t.jsx)(n.a,{href:"/docs/guide/south-connectors/opcua",children:"OPC UA connector"})]}),"\n"]})}),"\n",(0,t.jsx)(n.admonition,{title:"System Requirements",type:"caution",children:(0,t.jsxs)(n.p,{children:["OIBus Agent ",(0,t.jsx)(n.strong,{children:"must"})," be installed on a Windows machine"]})}),"\n",(0,t.jsx)(n.h2,{id:"specific-settings",children:"Specific Settings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Setting"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Example Value"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Remote agent URL"}),(0,t.jsxs)(n.td,{children:["Agent endpoint (e.g., ",(0,t.jsx)(n.code,{children:"http://host:2224"}),")"]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"http://192.168.1.100:2224"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Retry interval"}),(0,t.jsx)(n.td,{children:"Time (ms) before connection retry"}),(0,t.jsx)(n.td,{children:"10000"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Server URL"}),(0,t.jsx)(n.td,{children:"Address of OPC server (from agent machine)"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"localhost"})," or IP address"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Server name"}),(0,t.jsx)(n.td,{children:"OPC server name (ProgID)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Matrikon.OPC.Simulation"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Mode"}),(0,t.jsx)(n.td,{children:"Data access mode (DA or HDA)"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"HDA"})})]})]})]}),"\n",(0,t.jsx)(l.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"item-settings",children:"Item Settings"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Setting"}),(0,t.jsx)(n.th,{children:"Description"}),(0,t.jsx)(n.th,{children:"Options/Examples"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Node ID"}),(0,t.jsx)(n.td,{children:"Path to data in OPC server namespace"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Channel1.Device1.Tag1"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Aggregate"}),(0,t.jsx)(n.td,{children:"Data aggregation method (verify server support)"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"Raw"}),", ",(0,t.jsx)(n.code,{children:"Average"}),", ",(0,t.jsx)(n.code,{children:"Minimum"}),", ",(0,t.jsx)(n.code,{children:"Maximum"}),", ..."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Resampling"}),(0,t.jsx)(n.td,{children:"Resample aggregated values at requested interval (requires non-Raw aggregate)"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"None"}),", ",(0,t.jsx)(n.code,{children:"1s"}),", ",(0,t.jsx)(n.code,{children:"10s"}),", ",(0,t.jsx)(n.code,{children:"1h"}),", ..."]})]})]})]}),"\n",(0,t.jsx)(n.admonition,{title:"Compatibility Notes",type:"caution",children:(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Aggregation Support"}),": Not all servers support all aggregation methods"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Resampling"}),": Only available when aggregate \u2260 ",(0,t.jsx)(n.code,{children:"Raw"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Recommended Settings"}),": Use ",(0,t.jsx)(n.code,{children:"Raw"})," aggregation and ",(0,t.jsx)(n.code,{children:"None"})," resampling for maximum compatibility"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Server Capabilities"}),": Verify supported features with your OPC server documentation"]}),"\n"]})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Basic Configuration"}),":"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Node ID: ",(0,t.jsx)(n.code,{children:"Simulation Random.Int4"})]}),"\n",(0,t.jsxs)(n.li,{children:["Aggregate: ",(0,t.jsx)(n.code,{children:"Raw"})]}),"\n",(0,t.jsxs)(n.li,{children:["Resampling: ",(0,t.jsx)(n.code,{children:"None"})]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Aggregated Values"}),":"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Node ID: ",(0,t.jsx)(n.code,{children:"Production.Line1.Temperature"})]}),"\n",(0,t.jsxs)(n.li,{children:["Aggregate: ",(0,t.jsx)(n.code,{children:"Average"})]}),"\n",(0,t.jsxs)(n.li,{children:["Resampling: ",(0,t.jsx)(n.code,{children:"5m"})]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"High-Frequency Data"}),":"]}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Node ID: ",(0,t.jsx)(n.code,{children:"Process.Vessel.Pressure"})]}),"\n",(0,t.jsxs)(n.li,{children:["Aggregate: ",(0,t.jsx)(n.code,{children:"Minimum"})]}),"\n",(0,t.jsxs)(n.li,{children:["Resampling: ",(0,t.jsx)(n.code,{children:"1s"})]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},73937:(e,n,s)=>{s.d(n,{Ay:()=>d,RM:()=>r});var i=s(74848),t=s(28453);const r=[{value:"Throttling Settings",id:"throttling-settings",level:3},{value:"Key Throttling Parameters",id:"key-throttling-parameters",level:4},{value:"How Throttling Works",id:"how-throttling-works",level:4},{value:"Recommended Configurations",id:"recommended-configurations",level:3}];function l(e){const n={admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"throttling-settings",children:"Throttling Settings"}),"\n",(0,i.jsx)(n.p,{children:"You can optimize data requests using throttling configurations. These settings help manage large data intervals and network conditions effectively."}),"\n",(0,i.jsx)(n.h4,{id:"key-throttling-parameters",children:"Key Throttling Parameters"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Setting"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Data Type"}),(0,i.jsx)(n.th,{children:"Example Value"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Max read interval"}),(0,i.jsx)(n.td,{children:"Maximum duration (in seconds) for each data request interval. Larger intervals are automatically divided into smaller chunks not exceeding this value."}),(0,i.jsx)(n.td,{children:"Seconds"}),(0,i.jsx)(n.td,{children:"3600"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Read delay"}),(0,i.jsx)(n.td,{children:"Delay (in milliseconds) between consecutive data requests. Helps prevent server overload."}),(0,i.jsx)(n.td,{children:"Milliseconds"}),(0,i.jsx)(n.td,{children:"1000"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Overlap"}),(0,i.jsxs)(n.td,{children:["Time overlap (in milliseconds) between consecutive queries to ensure data continuity. This value is subtracted from the ",(0,i.jsx)(n.code,{children:"@StartTime"})," of the next query."]}),(0,i.jsx)(n.td,{children:"Milliseconds"}),(0,i.jsx)(n.td,{children:"60000"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"how-throttling-works",children:"How Throttling Works"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Interval Division"}),":"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Large time ranges are automatically split into smaller intervals"}),"\n",(0,i.jsxs)(n.li,{children:["Each sub-interval does not exceed the ",(0,i.jsx)(n.code,{children:"Max read interval"})," duration"]}),"\n",(0,i.jsxs)(n.li,{children:["Example: A 24-hour request with ",(0,i.jsx)(n.code,{children:"Max read interval = 3600"})," (1 hour) will be split into 24 separate 1-hour requests"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Request Timing"}),":"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"Read delay"})," introduces a pause between consecutive requests"]}),"\n",(0,i.jsx)(n.li,{children:"Helps manage server load and prevents rate limiting"}),"\n",(0,i.jsx)(n.li,{children:"Particularly useful during network instability or when querying large datasets"}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Data Continuity"}),":"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"Overlap"})," setting ensures no gaps in your data"]}),"\n",(0,i.jsx)(n.li,{children:"Creates a time buffer between consecutive queries"}),"\n",(0,i.jsxs)(n.li,{children:["Example: With ",(0,i.jsx)(n.code,{children:"Overlap = 60000"})," (1 minute), each query will include 1 minute of overlapping data with the previous query"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{title:"Overlap Functionality",type:"info",children:[(0,i.jsxs)(n.p,{children:["The overlap setting modifies the ",(0,i.jsx)(n.code,{children:"@StartTime"})," of each query by subtracting the overlap value from the calculated start time. This adjustment applies to the entire query range, not to individual sub-intervals when large requests are split into smaller chunks."]}),(0,i.jsx)(n.p,{children:"This functionality is particularly useful when:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"New data is ingested after previous queries have executed"}),"\n",(0,i.jsx)(n.li,{children:"You need to account for potential ingestion delays in the source system"}),"\n"]}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":\nWith ",(0,i.jsx)(n.code,{children:"overlap=60000"})," (1 minute), a query for the interval ",(0,i.jsx)(n.code,{children:"[10:00-11:00]"})," will actually request ",(0,i.jsx)(n.code,{children:"[9:59-11:00]"}),", ensuring capture of any late-arriving data from the previous time period."]})]}),"\n",(0,i.jsx)(n.h3,{id:"recommended-configurations",children:"Recommended Configurations"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Scenario"}),(0,i.jsx)(n.th,{children:"Max read interval"}),(0,i.jsx)(n.th,{children:"Read delay"}),(0,i.jsx)(n.th,{children:"Overlap"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Stable network, small datasets"}),(0,i.jsx)(n.td,{children:"3600 (1 hour)"}),(0,i.jsx)(n.td,{children:"500"}),(0,i.jsx)(n.td,{children:"0 (no overlap)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unstable network"}),(0,i.jsx)(n.td,{children:"1800 (30 min)"}),(0,i.jsx)(n.td,{children:"2000"}),(0,i.jsx)(n.td,{children:"0 (no overlap)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Large historical retrievals"}),(0,i.jsx)(n.td,{children:"7200 (2 hours)"}),(0,i.jsx)(n.td,{children:"1000"}),(0,i.jsx)(n.td,{children:"0 (no overlap)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Real-time with occasional gaps"}),(0,i.jsx)(n.td,{children:"900 (15 min)"}),(0,i.jsx)(n.td,{children:"200"}),(0,i.jsx)(n.td,{children:"15000 (15 sec)"})]})]})]})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);