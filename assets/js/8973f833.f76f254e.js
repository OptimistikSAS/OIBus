"use strict";(self.webpackChunkdoc_oibus=self.webpackChunkdoc_oibus||[]).push([[2256],{2755:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"guide/engine/external-sources","title":"External sources and endpoints","description":"External source","source":"@site/docs/guide/engine/external-sources.md","sourceDirName":"guide/engine","slug":"/guide/engine/external-sources","permalink":"/docs/guide/engine/external-sources","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"guideSidebar","previous":{"title":"IP Filters","permalink":"/docs/guide/engine/ip-filters"},"next":{"title":"Certificates","permalink":"/docs/guide/engine/certificates"}}');var s=t(4848),i=t(8453);const o={sidebar_position:5},r="External sources and endpoints",l={},d=[{value:"External source",id:"external-source",level:2},{value:"OIBus data endpoints",id:"oibus-data-endpoints",level:2},{value:"Data from another application",id:"data-from-another-application",level:2},{value:"JSON payload",id:"json-payload",level:3},{value:"File payload",id:"file-payload",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"external-sources-and-endpoints",children:"External sources and endpoints"})}),"\n",(0,s.jsx)(n.h2,{id:"external-source",children:"External source"}),"\n",(0,s.jsx)(n.p,{children:"An external source refers to a remote entity that transmits data to OIBus endpoints through HTTP requests. This functionality\nenables other applications to send data to OIBus without configuring South connectors."}),"\n",(0,s.jsx)(n.p,{children:"North connectors have the capability to subscribe to either South connectors or external sources to retrieve data from\nthese sources. However, if an external source is not defined within OIBus, any incoming data from that source will be\ndisregarded to prevent cache saturation."}),"\n",(0,s.jsxs)(n.p,{children:["To register an external source, simply provide its name, which will be used as the query parameter ",(0,s.jsx)(n.code,{children:"name"}),", as shown below.\nWhile optional, adding a description can be beneficial to provide context regarding the purpose of this external source."]}),"\n",(0,s.jsx)(n.h2,{id:"oibus-data-endpoints",children:"OIBus data endpoints"}),"\n",(0,s.jsx)(n.p,{children:"OIBus has the capability to receive data through two distinct endpoints:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["POST ",(0,s.jsx)(n.code,{children:"/api/add-values"}),": This endpoint is used to accept values in JSON format within the payload. It utilizes basic authentication for security."]}),"\n",(0,s.jsxs)(n.li,{children:["POST ",(0,s.jsx)(n.code,{children:"/api/add-file"}),": Here, data is received in the form of files using HTTP form-data. Basic authentication is also required for this endpoint."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Both of these endpoints necessitate the inclusion of the query parameter ",(0,s.jsx)(n.code,{children:"name"}),", which specifies the external source\nassociated with the data. The OIBus engine processes this data and stores it within the North caches that are subscribed\nto the specified external source."]}),"\n",(0,s.jsx)(n.h2,{id:"data-from-another-application",children:"Data from another application"}),"\n",(0,s.jsx)(n.h3,{id:"json-payload",children:"JSON payload"}),"\n",(0,s.jsx)(n.p,{children:"To transmit data to OIBus using a JSON payload, you can make an HTTP request with the following payload:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:"title=Payload example",children:'[\n    {\n        "timestamp": "2023-01-01T00:00:00.000Z",\n        "pointId": "my reference",\n        "data": {\n            "value": 1234\n        }\n    },\n    {\n        "timestamp": "2023-01-01T10:00:00.000Z",\n        "pointId": "another reference",\n        "data": {\n            "value": 456\n        }\n    }\n]\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-curl",metastring:'title="curl command"',children:'curl --location \'http://localhost:2223/api/add-values?name=%27test%27\' \\\n--header \'Content-Type: application/json\' \\\n-u <username>:<password> \\\n--data \'[\n    {\n        "timestamp": "2023-01-01T00:00:00.000Z",\n        "pointId": "my reference",\n        "data": {\n            "value": 1234\n        }\n    },\n    {\n        "timestamp": "2023-01-01T10:00:00.000Z",\n        "pointId": "another reference",\n        "data": {\n            "value": 456\n        }\n    }\n]\'\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This request will result in a successful response with a ",(0,s.jsx)(n.code,{children:"204 No Content"})," status."]}),"\n",(0,s.jsx)(n.h3,{id:"file-payload",children:"File payload"}),"\n",(0,s.jsx)(n.p,{children:"To send a file to OIBus, you can utilize the following curl command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-curl",metastring:'title="curl command"',children:"curl --location 'http://localhost:2223/api/add-file?name=%27test%27' \\\n-u <username>:<password> \\\n--form 'file=@\"<file-path>\"'\n"})}),"\n",(0,s.jsxs)(n.p,{children:["This request will result in a successful response with a ",(0,s.jsx)(n.code,{children:"204 No Content"})," status."]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var a=t(6540);const s={},i=a.createContext(s);function o(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);