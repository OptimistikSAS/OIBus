"use strict";(globalThis.webpackChunkdoc_oibus=globalThis.webpackChunkdoc_oibus||[]).push([[9762],{11411:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"guide/south-connectors/common-settings","title":"Common Settings","description":"A South connector fetches data from a specific source (e.g., MQTT broker, MSSQL database) and forwards it to North","source":"@site/docs/guide/south-connectors/common-settings.md","sourceDirName":"guide/south-connectors","slug":"/guide/south-connectors/common-settings","permalink":"/docs/guide/south-connectors/common-settings","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0},"sidebar":"guideSidebar","previous":{"title":"South connectors","permalink":"/docs/category/south-connectors"},"next":{"title":"TwinCAT\xae ADS","permalink":"/docs/guide/south-connectors/ads"}}');var i=s(74848),r=s(28453);const d={sidebar_position:0},c="Common Settings",o={},l=[{value:"Adding a South Connector",id:"adding-a-south-connector",level:2},{value:"General Settings",id:"general-settings",level:2},{value:"Specific Section",id:"specific-section",level:2},{value:"Testing Connection",id:"testing-connection",level:3},{value:"Item Section",id:"item-section",level:2},{value:"Item Actions",id:"item-actions",level:3},{value:"Import/Export Items",id:"importexport-items",level:3},{value:"Max Instant and Scan Mode Management",id:"max-instant-and-scan-mode-management",level:2},{value:"Max Instant Per Item: <strong>Enabled</strong>",id:"max-instant-per-item-enabled",level:3},{value:"Max Instant Per Item: <strong>Disabled</strong>",id:"max-instant-per-item-disabled",level:3},{value:"Transitioning Between Modes (Max Instant Per Item)",id:"transitioning-between-modes-max-instant-per-item",level:3},{value:"Example Scenarios",id:"example-scenarios",level:2},{value:"Max Instant Per Item: Enabled",id:"max-instant-per-item-enabled-1",level:3},{value:"Max Instant Per Item: Disabled",id:"max-instant-per-item-disabled-1",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"common-settings",children:"Common Settings"})}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"South connector"})," fetches data from a specific source (e.g., MQTT broker, MSSQL database) and forwards it to North\ncaches. Each connector can manage multiple items, with the nature of each item depending on the connector type (e.g.,\nsubscribing to a topic, querying a database)."]}),"\n",(0,i.jsx)(n.h2,{id:"adding-a-south-connector",children:"Adding a South Connector"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Navigate to the ",(0,i.jsx)(n.strong,{children:"South"})," page."]}),"\n",(0,i.jsxs)(n.li,{children:["Click the ",(0,i.jsx)(n.strong,{children:"+"})," button."]}),"\n",(0,i.jsx)(n.li,{children:"Select a connector type and configure its settings."}),"\n",(0,i.jsx)(n.li,{children:"Monitor or adjust settings from the connector\u2019s display page."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"general-settings",children:"General Settings"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Setting"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Name"})}),(0,i.jsx)(n.td,{children:"User-friendly label for easy identification."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Description"})}),(0,i.jsx)(n.td,{children:"Optional context (connection details, access rights, unique characteristics)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Enabled"})}),(0,i.jsx)(n.td,{children:"Enable/disable the connector from the list or its display page."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"specific-section",children:"Specific Section"}),"\n",(0,i.jsx)(n.p,{children:"Refer to each connector\u2019s documentation for type-specific settings."}),"\n",(0,i.jsx)(n.h3,{id:"testing-connection",children:"Testing Connection"}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.strong,{children:"Test settings"})," button to verify your connection configuration."]}),"\n",(0,i.jsx)(n.h2,{id:"item-section",children:"Item Section"}),"\n",(0,i.jsx)(n.p,{children:"Items retrieve data as files or JSON payloads. Each item requires:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Setting"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Name"})}),(0,i.jsx)(n.td,{children:"Unique reference for North target applications."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Scan mode"})}),(0,i.jsxs)(n.td,{children:["Determines when OIBus requests data (e.g., ",(0,i.jsx)(n.code,{children:"subscription"})," for MQTT/OPCUA)."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Specific settings"})}),(0,i.jsx)(n.td,{children:"Varies by connector type."})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"item-actions",children:"Item Actions"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Disable/Enable"}),": Toggle from the item\u2019s edit form or the connector\u2019s display page."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Test"}),": Verify item settings and results from the edit/create modal.","\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Tip"}),": Test connection settings before testing items."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"importexport-items",children:"Import/Export Items"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Export"}),": Download items as a CSV with columns: ",(0,i.jsx)(n.code,{children:"name"}),", ",(0,i.jsx)(n.code,{children:"enabled"}),", ",(0,i.jsx)(n.code,{children:"scanMode"}),", and ",(0,i.jsx)(n.code,{children:"settings_*"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Import"}),": Use a CSV template (export an existing list for reference).","\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": The system validates for duplicates and correct formatting before adding items."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"max-instant-and-scan-mode-management",children:"Max Instant and Scan Mode Management"}),"\n",(0,i.jsxs)(n.p,{children:["History-capable South connectors track the last ",(0,i.jsx)(n.code,{children:"max_instant"})," in the ",(0,i.jsx)(n.code,{children:"cache.db"})," database. Behavior varies by connector:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Database connectors"}),": Always use ",(0,i.jsx)(n.code,{children:"Max instant per item"})," internally."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"OPCUA"})," (HA mode), ",(0,i.jsx)(n.strong,{children:"OPC Classic"})," (HDA mode), ",(0,i.jsx)(n.strong,{children:"OSIsoft PI"}),": Choose between per-item or grouped ",(0,i.jsx)(n.code,{children:"max_instant"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This section explains how OIBus manages the ",(0,i.jsx)(n.code,{children:"max_instant"})," value when you modify the connector or item configuration. The\nbehavior depends on whether ",(0,i.jsx)(n.strong,{children:"Max instant per item"})," is enabled or disabled, and the specific action you perform (e.g.,\nchanging scan modes, removing items, or deleting the connector)."]}),"\n",(0,i.jsxs)(n.h3,{id:"max-instant-per-item-enabled",children:["Max Instant Per Item: ",(0,i.jsx)(n.strong,{children:"Enabled"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Change scan mode"}),": Removes the old cache entry for the item and creates a new entry using the previous ",(0,i.jsx)(n.code,{children:"max_instant"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Remove item"}),": Deletes the cache entry for this specific item."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Remove connector"}),": Deletes all linked items and their associated cache entries."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"max-instant-per-item-disabled",children:["Max Instant Per Item: ",(0,i.jsx)(n.strong,{children:"Disabled"})]}),"\n",(0,i.jsxs)(n.p,{children:["When disabled, ",(0,i.jsxs)(n.strong,{children:["all items sharing the same scan mode use a single ",(0,i.jsx)(n.code,{children:"max_instant"})]}),". This is especially useful for connectors where multiple data points are stored or updated simultaneously (e.g., OPCUA), as it ensures consistent timestamp tracking across items."]}),"\n",(0,i.jsxs)(n.p,{children:["In this mode, the ",(0,i.jsx)(n.code,{children:"max_instant"})," is tied to the ",(0,i.jsx)(n.strong,{children:"scan mode"}),", not individual items."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Change scan mode"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If the new scan mode has ",(0,i.jsx)(n.strong,{children:"no existing entry"}),": Removes the old entry (if no other items use it) and creates a new entry with the previous ",(0,i.jsx)(n.code,{children:"max_instant"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["If new scan mode ",(0,i.jsx)(n.strong,{children:"already has an entry"}),": No new entry; uses existing ",(0,i.jsx)(n.code,{children:"max_instant"}),".","\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Warning"}),": Changing scan modes may cause duplicate queries or data loss if ",(0,i.jsx)(n.code,{children:"max_instant"})," differs\nsignificantly."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Remove item"}),": Deletes cache entry only if no other items use the same scan mode."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Remove connector"}),": Deletes all items and cache entries."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"transitioning-between-modes-max-instant-per-item",children:"Transitioning Between Modes (Max Instant Per Item)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Disabled \u2192 Enabled"}),": Removes grouped cache entries, creates per-item entries with previous ",(0,i.jsx)(n.code,{children:"max_instant"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enabled \u2192 Disabled"}),": Removes per-item entries, creates grouped entries with the latest ",(0,i.jsx)(n.code,{children:"max_instant"})," per scan mode.","\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Warning"}),": Data loss may occur if ",(0,i.jsx)(n.code,{children:"max_instant"})," values differ."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"example-scenarios",children:"Example Scenarios"}),"\n",(0,i.jsx)(n.h3,{id:"max-instant-per-item-enabled-1",children:"Max Instant Per Item: Enabled"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Before"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"south_id"}),(0,i.jsx)(n.th,{children:"scan_mode_id"}),(0,i.jsx)(n.th,{children:"item_id"}),(0,i.jsx)(n.th,{children:"max_instant"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"south1"}),(0,i.jsx)(n.td,{children:"scan_prev"}),(0,i.jsx)(n.td,{children:"item1"}),(0,i.jsx)(n.td,{children:"2024-02-16T00:00:00.000Z"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"south1"}),(0,i.jsx)(n.td,{children:"scan_prev"}),(0,i.jsx)(n.td,{children:"item2"}),(0,i.jsx)(n.td,{children:"2024-02-16T00:00:00.000Z"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"After changing scan mode"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"south_id"}),(0,i.jsx)(n.th,{children:"scan_mode_id"}),(0,i.jsx)(n.th,{children:"item_id"}),(0,i.jsx)(n.th,{children:"max_instant"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"south1"}),(0,i.jsx)(n.td,{children:"scan_new"}),(0,i.jsx)(n.td,{children:"item1"}),(0,i.jsx)(n.td,{children:"2024-02-16T00:00:00.000Z"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"south1"}),(0,i.jsx)(n.td,{children:"scan_prev"}),(0,i.jsx)(n.td,{children:"item2"}),(0,i.jsx)(n.td,{children:"2024-02-16T00:00:00.000Z"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"max-instant-per-item-disabled-1",children:"Max Instant Per Item: Disabled"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Before"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"south_id"}),(0,i.jsx)(n.th,{children:"scan_mode_id"}),(0,i.jsx)(n.th,{children:"item_id"}),(0,i.jsx)(n.th,{children:"max_instant"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"south1"}),(0,i.jsx)(n.td,{children:"scan_prev"}),(0,i.jsx)(n.td,{children:"all"}),(0,i.jsx)(n.td,{children:"2024-02-16T00:00:00.000Z"})]})})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"After changing scan mode"}),":"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"south_id"}),(0,i.jsx)(n.th,{children:"scan_mode_id"}),(0,i.jsx)(n.th,{children:"item_id"}),(0,i.jsx)(n.th,{children:"max_instant"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"south1"}),(0,i.jsx)(n.td,{children:"scan_new"}),(0,i.jsx)(n.td,{children:"all"}),(0,i.jsx)(n.td,{children:"2024-02-16T00:00:00.000Z"})]})})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var t=s(96540);const i={},r=t.createContext(i);function d(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);